{"version":3,"sources":["webpack:///src/app/fees/fee-list/fee-list.component.ts","webpack:///src/app/fees/fee-list/fee-list.component.html","webpack:///src/app/fees/fee-list/fee-type.component.ts","webpack:///src/app/fees/fee-list/fee-type.component.html","webpack:///src/app/fees/fee-list/filter.pipe.ts","webpack:///src/app/fees/fees.module.ts","webpack:///src/app/fees/model.ts","webpack:///src/app/fees/service/fee.service.ts","webpack:///src/app/invoice/services/invoice.service.ts"],"names":["FeeListComponent","fb","feeService","invoiceService","route","isSales","SingleSelectSettingsById","MultiSelectSettingsById","CommonFees","OtherFees","SpCommonFees","SpOtherFees","AccessorialForm","buildForm","Parent","addControl","InputAccessorialFeeDetails","undefined","patchValue","OrderId","parseInt","snapshot","queryParamMap","get","array","getFeeTypes","Currency","subscribe","data","FeeTypes","getFeeConstraintTypes","FeeConstraintTypes","getFeeSubTypes","FeeSubTypes","filter","elem","FeeSubTypeId","singleSelection","closeDropDownOnSelection","idField","textField","enableCheckAll","selectAllText","unSelectAllText","itemsShowLimit","allowSearchFilter","getTableTypes","change","NoOrders","controls","Fees","currentValue","fees","clear","currValues","forEach","x","FeeConstraintTypeId","addGeneralFee","CommonFee","addSpecialFee","getDefaultDetail","currency","DisplayCurrency","group","AccessorialFeeTableType","control","AccessorialFeeId","model","byQtyModel","DeliveryFeeByQuantity","byQuantity","_fb","idx","push","MinQuantity","required","MaxQuantity","Fee","_specialDate","SpecialDate","format","TruckLoadType","TruckLoadCategoryId","IncludeInPPG","FeeTypeId","OtherFeeDescription","MinimumGallons","_commonFee","feeObj","indexOf","feeGroup","getForm","fee","_fees","removeAt","splice","typeId","lastFee","length","value","index","drop","name","invalid","dirty","touched","errors","min","AccessorialFeeTableTypeList","Id","Carrier","item","Name","Master","GetAccessorialFeeId","selectedAccessorialId","input","selectedAccessorialFeeTableType","AccessorialFeeTableTypeIds","map","s","TableType","join","getAccessorialTableName","AccessorialFeeIdList","t","AccessorialFees","type","GetAccessorialFeeTablesForConsolidated","allTableNames","AccessorialFeeIds","IdInComparer","setValue","otherArray","current","other","generalFees","removeGeneralFee","otherFees","spFee","removeSpecialFee","spOtherFee","AllFeeRemove","selectedItems","feeIds","GetAccessorialFeeByAccessorialFeeId","obj","OnAccessorialFeeTableTypeDeSelect","selector","templateUrl","styleUrls","requiredIfValidator","predicate","formControl","parent","FeeGroup","$event","FeeTypeComponent","DisplayFeeTypes","setValidators","feeNameRequired","slice","updateSubType","feeTypeId","feeSubTypes","otherFeeSubTypes","includes","_fee","pattern","lastMax","_form","subTypeId","field1Name","field2Name","field3Name","field1","field2","field3","replace","handleByQuantity","FilterPipe","items","field","filtered","singleItem","FeesModule","forRoot","confirmButtonType","declarations","imports","exports","FeeModel","ByQuantityModel","IsMatched","y","FeeService","httpClient","getFeeTypesUrl","getFeeSubTypesUrl","getSalesFeeTypesUrl","getSalesFeeSubTypesUrl","getFeeConstraintTypesUrl","orderId","currancy","isSale","pipe","handleError","providedIn","InvoiceService","getPoListUrl","getDefaultUrl","getAssetstUrl","getAnotherProductUrl","getTerminalsUrl","getTerminalPriceByIdUrl","postCreateInvoiceUrl","postConvertToInvoiceUrl","getInvoiceDropFeesUrl","getSchedulesUrl","getInvoiceDetailsUrl","getTaxePricingTypesUrl","getDriverListUrl","getsastokenurl","getAssignedurl","getCalculatedDropqtysUrl","validateGravityUrl","getEiaPriceUrl","getEiaPriceAutoFreightMethodUrl","getBlendedProductsUrl","getFreightTableTypesUrl","getTableTypesUrl","getFreightTableNameUrl","getFuelSurchargeTableNameUrl","getAccessorialTableNameUrl","GetAccessorialFeeTablesForConsolidatedUrl","GetAccessorialFeeTablesForSelectedOrderUrl","getAccessorialFeeByOrderUrl","getAccessorialFeeByAccessorialFeeIdUrl","GetFreightCostForAutoInvoiceUrl","_orderId","trackableScheduleId","_terminal","terminalId","deliveryDate","post","invoiceModel","existingId","IsRebillInvoice","ddtId","_invoiceId","_blendGroupId","_scheduleId","assetInfo","conversionRequest","orderIds","accessorialFeeId"],"mappings":"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","file":"default~invoice-lazy-loading-invoice-module~sales-user-sales-user-module-es5.js","sourcesContent":["import { Component, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { FormGroup, FormBuilder, FormArray, Validators } from '@angular/forms';\r\nimport { FeeModel } from '../model';\r\nimport { DropdownItem, DropdownItemExt, FeeSubType } from 'src/app/statelist.service';\r\nimport { FeeService } from '../service/fee.service';\r\nimport * as moment from 'moment';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { InvoiceService } from '../../invoice/services/invoice.service';\r\nimport { FreightTableNameModel, AccessorialFeeTableDetailViewModel, DeDuplicateFees } from '../../invoice/models/DropDetail'; \r\nimport { TableType } from '../../app.enum';\r\n\r\n@Component({\r\n    selector: 'app-fee-list',\r\n    templateUrl: './fee-list.component.html',\r\n    styleUrls: ['./fee-list.component.css']\r\n})\r\nexport class FeeListComponent implements OnInit, OnChanges {\r\n\r\n    @Input() Parent: FormGroup;\r\n    @Input() public Fees: FeeModel[];\r\n    @Input() public InputAccessorialFeeDetails: AccessorialFeeTableDetailViewModel[];\r\n    @Input() public isWaitingForBol: boolean;\r\n    @Input() public isSales: boolean = false;\r\n    @Input() public IsFrieghtPricingMethodAuto: boolean;\r\n    @Input() Currency: string; // Taking currency as input to display on addon \r\n    @Input() public NoOrders: boolean;\r\n    //---------------Fees GROUP -----------\r\n\r\n    public CommonFees: FormGroup[];\r\n    public OtherFees: FormGroup[];\r\n    public SpCommonFees: FormGroup[];\r\n    public SpOtherFees: FormGroup[];\r\n\r\n    public FeeTypes: DropdownItemExt[];\r\n    public FeeSubTypes: FeeSubType[];\r\n    public FeeConstraintTypes: DropdownItem[];\r\n    public AccessorialFeeTableTypeList: DropdownItem[];\r\n    public AccessorialFeeIdList: DropdownItem[];\r\n    public SingleSelectSettingsById = {};\r\n    public MultiSelectSettingsById = {};\r\n    public AccessorialForm: FormGroup;\r\n    public group: FormGroup;\r\n    public DisplayCurrency: any;\r\n    public OrderId: number;\r\n    public currValues: FeeModel[];\r\n    constructor(private fb: FormBuilder, private feeService: FeeService, private invoiceService: InvoiceService,\r\n        private route: ActivatedRoute) {\r\n        this.CommonFees = [];\r\n        this.OtherFees = [];\r\n        this.SpCommonFees = [];\r\n        this.SpOtherFees = [];\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.AccessorialForm = this.buildForm();\r\n        this.Parent.addControl('AccessorialFeeDetails', this.AccessorialForm);\r\n        if (this.InputAccessorialFeeDetails != undefined && this.InputAccessorialFeeDetails != null) {\r\n            this.AccessorialForm.patchValue(this.InputAccessorialFeeDetails);\r\n        }\r\n        this.OrderId = parseInt(this.route.snapshot.queryParamMap.get('orderId'), 10);\r\n        this.Parent.addControl('Fees', this.fb.array([]));\r\n\r\n        this.feeService.getFeeTypes(this.OrderId, this.Currency, this.isSales)\r\n            .subscribe(data => { this.FeeTypes = data; });\r\n\r\n        this.feeService.getFeeConstraintTypes()\r\n            .subscribe((data: DropdownItem[]) => { this.FeeConstraintTypes = data; });\r\n\r\n        this.feeService.getFeeSubTypes(this.OrderId, this.Currency, this.isSales)\r\n            .subscribe((data: FeeSubType[]) => {\r\n                this.FeeSubTypes = data.filter(function (elem: FeeSubType) { return elem.FeeSubTypeId != 1 });\r\n            });\r\n        this.SingleSelectSettingsById = {\r\n            singleSelection: true,\r\n            closeDropDownOnSelection: true,\r\n            idField: 'Id',\r\n            textField: 'Name',\r\n            enableCheckAll: false,\r\n            selectAllText: 'Select All',\r\n            unSelectAllText: 'UnSelect All',\r\n            itemsShowLimit: 1,\r\n        };\r\n        this.MultiSelectSettingsById = {\r\n            singleSelection: false,\r\n            idField: 'Id',\r\n            textField: 'Name',\r\n            selectAllText: 'Select All',\r\n            unSelectAllText: 'UnSelect All',\r\n            itemsShowLimit: 5,\r\n            allowSearchFilter: true\r\n        };\r\n        this.getTableTypes();\r\n    }\r\n\r\n    ngOnChanges(change: SimpleChanges) {\r\n        if (this.NoOrders) {\r\n            this.AccessorialForm.controls['AccessorialFeeTableType'].patchValue([]);\r\n            this.AccessorialForm.controls['AccessorialFeeId'].patchValue([]);\r\n        }\r\n        if (change.Fees && change.Fees.currentValue) {\r\n            this.CommonFees = [];\r\n            this.OtherFees = [];\r\n            this.SpCommonFees = [];\r\n            this.SpOtherFees = [];\r\n\r\n            let fees = this.Parent.get('Fees') as FormArray;\r\n            if (fees) {\r\n                fees.clear();\r\n            }\r\n            this.currValues = change.Fees.currentValue as FeeModel[];\r\n            this.currValues.forEach((x: FeeModel) => {\r\n                if (x.FeeConstraintTypeId == null) {\r\n                    this.addGeneralFee(x.CommonFee, x);\r\n                } else {\r\n                    this.addSpecialFee(x.CommonFee, x.FeeConstraintTypeId, x);\r\n                }\r\n            });\r\n        }\r\n        if (change.InputAccessorialFeeDetails && change.InputAccessorialFeeDetails.currentValue) {\r\n            this.getDefaultDetail(change.InputAccessorialFeeDetails.currentValue as AccessorialFeeTableDetailViewModel[]);\r\n        }\r\n        if (change.Currency && change.Currency.currentValue) {\r\n            var currency = change.Currency.currentValue;\r\n            this.DisplayCurrency = currency;\r\n\r\n            this.feeService.getFeeTypes(0, this.DisplayCurrency, this.isSales)\r\n                .subscribe(data => { this.FeeTypes = data; });\r\n\r\n            this.feeService.getFeeConstraintTypes()\r\n                .subscribe((data: DropdownItem[]) => { this.FeeConstraintTypes = data; });\r\n\r\n            this.feeService.getFeeSubTypes(0, this.DisplayCurrency, this.isSales)\r\n                .subscribe((data: FeeSubType[]) => {\r\n                    this.FeeSubTypes = data.filter(function (elem: FeeSubType) { return elem.FeeSubTypeId != 1 });\r\n                });\r\n        }\r\n    }\r\n\r\n    buildForm(): FormGroup {\r\n        return this.fb.group({\r\n            AccessorialFeeTableType: this.fb.control(''),\r\n            AccessorialFeeId: this.fb.control([])\r\n        });\r\n    }\r\n\r\n    getForm(model: FeeModel): FormGroup {\r\n        var byQtyModel = model.DeliveryFeeByQuantity;\r\n        var byQuantity = []; var _fb = this.fb;\r\n        if (byQtyModel != undefined && byQtyModel != null) {\r\n            byQtyModel.forEach(function (elem, idx) {\r\n                byQuantity.push(_fb.group({\r\n                    Currency: _fb.control(elem.Currency),\r\n                    MinQuantity: _fb.control(elem.MinQuantity, [Validators.required]),\r\n                    MaxQuantity: _fb.control(elem.MaxQuantity, [Validators.required]),\r\n                    Fee: _fb.control(elem.Fee, [Validators.required])\r\n                }));\r\n            });\r\n        }\r\n\r\n        var _specialDate = '';\r\n        if (model.SpecialDate != null && model.SpecialDate != undefined) {\r\n            _specialDate = moment(model.SpecialDate).format('MM/DD/YYYY');\r\n            _specialDate = _specialDate == '01/01/0001' ? '' : _specialDate;\r\n        }\r\n        this.group = this.fb.group({\r\n            OrderId: this.fb.control(model.OrderId),\r\n            Currency: this.fb.control(this.DisplayCurrency),\r\n            TruckLoadType: this.fb.control(model.TruckLoadType),\r\n            TruckLoadCategoryId: this.fb.control(model.TruckLoadCategoryId),\r\n            IncludeInPPG: this.fb.control(model.IncludeInPPG),\r\n            CommonFee: this.fb.control(model.CommonFee),\r\n            FeeConstraintTypeId: this.fb.control(model.FeeConstraintTypeId),\r\n            SpecialDate: this.fb.control(_specialDate),\r\n            FeeTypeId: this.fb.control(model.FeeTypeId, [Validators.required]),\r\n            FeeSubTypeId: this.fb.control(model.FeeSubTypeId, [Validators.required]),\r\n            Fee: this.fb.control(model.Fee, [Validators.required]),\r\n            OtherFeeDescription: this.fb.control(model.OtherFeeDescription),\r\n            MinimumGallons: this.fb.control(model.MinimumGallons),\r\n            DeliveryFeeByQuantity: this.fb.array(byQuantity),\r\n        });\r\n        return this.group;\r\n    }\r\n\r\n    addGeneralFee(_commonFee: boolean, feeObj: FeeModel): void {\r\n        if (feeObj == null) {\r\n            feeObj = new FeeModel();\r\n            feeObj.CommonFee = _commonFee;\r\n        }\r\n        if (!_commonFee && (feeObj.FeeTypeId == undefined || feeObj.FeeTypeId == null || feeObj.FeeTypeId.indexOf('14') < 0)) {\r\n            feeObj.FeeTypeId = '14';\r\n        }\r\n        var feeGroup = this.getForm(feeObj);\r\n        if (_commonFee) {\r\n            this.CommonFees.push(feeGroup);\r\n        } else {\r\n            this.OtherFees.push(feeGroup);\r\n        }\r\n        (this.Parent.get('Fees') as FormArray).push(feeGroup);\r\n    }\r\n\r\n    removeGeneralFee(_commonFee: boolean, fee: FormGroup): void {\r\n        var _fees = this.Parent.get('Fees') as FormArray;\r\n        _fees.removeAt(_fees.controls.indexOf(fee));\r\n        if (_commonFee) {\r\n            this.CommonFees.splice(this.CommonFees.indexOf(fee), 1);\r\n        } else {\r\n            this.OtherFees.splice(this.OtherFees.indexOf(fee), 1);\r\n        }\r\n    }\r\n\r\n    addSpecialFee(_commonFee: boolean, typeId: number, feeObj: FeeModel): void {\r\n        if (feeObj == null) {\r\n            feeObj = new FeeModel();\r\n            feeObj.CommonFee = _commonFee;\r\n        }\r\n        if (!_commonFee && (feeObj.FeeTypeId == undefined || feeObj.FeeTypeId == null || feeObj.FeeTypeId.indexOf('14') < 0)) {\r\n            feeObj.FeeTypeId = '14';\r\n        }\r\n        feeObj.FeeConstraintTypeId = typeId;\r\n        var feeGroup = this.getForm(feeObj);\r\n        if (_commonFee) {\r\n            this.SpCommonFees.push(feeGroup);\r\n        } else {\r\n            this.SpOtherFees.push(feeGroup);\r\n        }\r\n        (this.Parent.get('Fees') as FormArray).push(feeGroup);\r\n    }\r\n\r\n    removeSpecialFee(_commonFee: boolean, fee: FormGroup): void {\r\n        var _fees = this.Parent.get('Fees') as FormArray;\r\n        _fees.removeAt(_fees.controls.indexOf(fee));\r\n        if (_commonFee) {\r\n            this.SpCommonFees.splice(this.SpCommonFees.indexOf(fee), 1);\r\n        } else {\r\n            this.SpOtherFees.splice(this.SpOtherFees.indexOf(fee), 1);\r\n        }\r\n    }\r\n\r\n    addByQtyFee(fee: FormGroup): void {\r\n        var _fees = fee.get('DeliveryFeeByQuantity') as FormArray;\r\n        var lastFee = _fees.controls[_fees.controls.length - 1].get('Fee').value;\r\n        var feeObj = new FeeModel(); feeObj.Fee = lastFee;\r\n        _fees.push(this.getForm(feeObj));\r\n    }\r\n\r\n    removeByQtyFee(fee: FormGroup, index: number): void {\r\n        var _fees = fee.get('DeliveryFeeByQuantity') as FormArray;\r\n        _fees.removeAt(index);\r\n    }\r\n\r\n    //--------------------------------------------------------------\r\n\r\n    isInvalid(drop: FormGroup, name: string): boolean {\r\n        return drop.get(name).invalid &&\r\n            (drop.get(name).dirty || drop.get(name).touched);\r\n    }\r\n\r\n    isRequired(drop: FormGroup, name: string): boolean {\r\n        return drop.get(name).errors.required;\r\n    }\r\n\r\n    isMin(drop: FormGroup, name: string): boolean {\r\n        return drop.get(name).errors.min;\r\n    }\r\n\r\n    // Accessorial\r\n    private getTableTypes(): void {\r\n        this.invoiceService.getTableTypes().subscribe(data => {\r\n            this.AccessorialFeeTableTypeList = data;\r\n            this.AccessorialFeeTableTypeList = this.AccessorialFeeTableTypeList.filter(x => x.Id != TableType.Carrier);\r\n        });\r\n    }\r\n\r\n    public OnAccessorialFeeTableTypeSelect(item: any): void {\r\n        this.AccessorialForm.get('AccessorialFeeId').patchValue([]);\r\n        this.AccessorialForm.controls['AccessorialFeeTableType'].patchValue([{ Id: item.Id, Name: item.Id == TableType.Master ? \"Master\" : \"CustomerSpecific\" }]);\r\n        this.GetAccessorialFeeId(null);\r\n    }\r\n\r\n    public GetAccessorialFeeId(selectedAccessorialId: number): void {\r\n        let input = new FreightTableNameModel();\r\n        let selectedAccessorialFeeTableType = this.AccessorialForm.get('AccessorialFeeTableType').value as DropdownItem[];\r\n\r\n        if (selectedAccessorialFeeTableType && selectedAccessorialFeeTableType.length > 0) {\r\n\r\n            let AccessorialFeeTableTypeIds = selectedAccessorialFeeTableType.map(s => s.Id);\r\n            input.TableType = AccessorialFeeTableTypeIds.join(',');\r\n            input.OrderId = this.OrderId;\r\n            this.invoiceService.getAccessorialTableName(input).subscribe(data => {\r\n\r\n                if (data && data.length > 0) {\r\n                    this.AccessorialFeeIdList = data;\r\n                    if (selectedAccessorialId) {\r\n                        this.AccessorialForm.controls['AccessorialFeeId'].patchValue(this.AccessorialFeeIdList.filter(t => t.Id == selectedAccessorialId));\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    public getDefaultDetail(AccessorialFees: AccessorialFeeTableDetailViewModel[]): void {\r\n        if(AccessorialFees && AccessorialFees.length > 0){\r\n            if (AccessorialFees.length == 1) {\r\n\r\n                let type = AccessorialFees[0].AccessorialFeeTableType;\r\n                this.AccessorialForm.controls['AccessorialFeeTableType'].patchValue([{ Id: type, Name: type == TableType.Master ? \"Master\" : \"CustomerSpecific\" }]);\r\n                this.GetAccessorialFeeId(AccessorialFees[0].AccessorialFeeId);\r\n            }\r\n            else {\r\n                this.invoiceService.GetAccessorialFeeTablesForConsolidated(null).subscribe((allTableNames: any[]) => {\r\n                    this.AccessorialFeeIdList = allTableNames;\r\n                    let AccessorialFeeIds = this.AccessorialFeeIdList.filter(this.IdInComparer(AccessorialFees));\r\n                    this.AccessorialForm.controls['AccessorialFeeId'].setValue(AccessorialFeeIds);\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    IdInComparer(otherArray) {\r\n        return function (current) {\r\n            return otherArray.filter(function (other) {\r\n                return other.Id == current.Id\r\n            }).length == 1;\r\n        }\r\n    }\r\n\r\n    public AllFeeRemove() {\r\n        if (this.CommonFees && this.CommonFees.length > 0) {\r\n            this.CommonFees.forEach(generalFees => {\r\n                this.removeGeneralFee(true, generalFees);\r\n            });\r\n            this.CommonFees = [];\r\n        }\r\n        if (this.OtherFees && this.OtherFees.length > 0) {\r\n            this.OtherFees.forEach(otherFees => {\r\n                this.removeGeneralFee(false, otherFees);\r\n            });\r\n            this.OtherFees = [];\r\n        }\r\n        if (this.SpCommonFees && this.SpCommonFees.length > 0) {\r\n            this.SpCommonFees.forEach(spFee => {\r\n                this.removeSpecialFee(true, spFee);\r\n            });\r\n            this.SpCommonFees = [];\r\n        }\r\n        if (this.SpOtherFees && this.SpOtherFees.length > 0) {\r\n            this.SpOtherFees.forEach(spOtherFee => {\r\n                this.removeSpecialFee(false, spOtherFee);\r\n            });\r\n            this.SpOtherFees = [];\r\n        }\r\n    }\r\n\r\n    public OnAccessorialFeeTableTypeDeSelect(): void {\r\n        let selectedAccessorialFeeTableType = this.AccessorialForm.get('AccessorialFeeTableType').value as DropdownItem[];\r\n        if (selectedAccessorialFeeTableType.length == 0) {\r\n            this.AccessorialForm.get('AccessorialFeeId').patchValue([]);\r\n            this.AccessorialFeeIdList = [];\r\n        }\r\n        this.AllFeeRemove();\r\n        let selectedItems = this.AccessorialForm.get(\"AccessorialFeeId\").value as DropdownItem[];\r\n        if (selectedItems != null && selectedItems != undefined) {\r\n            let feeIds = selectedItems.map(s => s.Id);\r\n            this.invoiceService.GetAccessorialFeeByAccessorialFeeId(feeIds.join(',')).subscribe(data => {\r\n                if (data && data.length > 0) {\r\n                    data.forEach(obj => {\r\n                        if (obj.FeeConstraintTypeId == null) {\r\n                            this.addGeneralFee(obj.CommonFee, obj);\r\n                        } else {\r\n                            this.addSpecialFee(obj.CommonFee, obj.FeeConstraintTypeId, obj);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n    OnAccessorialFeeTableTypeDeSelectForSingle() {\r\n        this.AllFeeRemove();\r\n    }\r\n\r\n    public OnAccessorialFeeIdSelect() {\r\n        this.CommonFees = [];\r\n        this.OtherFees = [];\r\n        this.SpCommonFees = [];\r\n        this.SpOtherFees = [];\r\n\r\n        let fees = this.Parent.get('Fees') as FormArray;\r\n        if (fees) {\r\n            fees.clear();\r\n        }\r\n        let selectedItems = this.AccessorialForm.get(\"AccessorialFeeId\").value as DropdownItem[];\r\n        if (selectedItems != null && selectedItems != undefined) {\r\n            let feeIds = selectedItems.map(s => s.Id);\r\n            if (feeIds.length != 0) {\r\n                this.invoiceService.GetAccessorialFeeByAccessorialFeeId(feeIds.join(',')).subscribe(data => {\r\n                    if (feeIds.length != 1) {\r\n                        data = DeDuplicateFees(this.currValues, data);\r\n                    }\r\n                    if (data && data.length > 0) {\r\n                        data.forEach(obj => {\r\n                            if (obj.FeeConstraintTypeId == null) {\r\n                                this.addGeneralFee(obj.CommonFee, obj);\r\n                            } else {\r\n                                this.addSpecialFee(obj.CommonFee, obj.FeeConstraintTypeId, obj);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            this.OnAccessorialFeeTableTypeDeSelect();\r\n        }\r\n    }\r\n}\r\n\r\nfunction requiredIfValidator(predicate) {\r\n    return (formControl => {\r\n        if (!formControl.parent) {\r\n            return null;\r\n        }\r\n        if (predicate()) {\r\n            return Validators.required(formControl);\r\n        }\r\n        return null;\r\n    })\r\n}","<div [formGroup]=\"Parent\">\r\n    <div class=\"well box-shadow\">\r\n        <div [formGroup]=\"AccessorialForm\">\r\n            <h4 *ngIf=\"!IsFrieghtPricingMethodAuto\">Freight Cost / Fees</h4>\r\n            <div *ngIf=\"IsFrieghtPricingMethodAuto\">\r\n                <h3>Accessorial Fees</h3>\r\n                <div class=\"row\">\r\n\r\n                    <div class=\"col-sm-3\" *ngIf=\"Parent.get('SelectedOrders').value.length==0\">\r\n                        <h5>Table Type</h5>\r\n                        <div class=\"form-group\">\r\n                            <ng-multiselect-dropdown formControlName=\"AccessorialFeeTableType\"\r\n                                                     [placeholder]=\"'Table Type'\"\r\n                                                     class=\"single-select\"\r\n                                                     (onSelect)=\"OnAccessorialFeeTableTypeSelect($event)\"\r\n                                                     (onDeSelect)=\"OnAccessorialFeeTableTypeDeSelect()\"\r\n                                                     [settings]=\"SingleSelectSettingsById\"\r\n                                                     [data]=\"AccessorialFeeTableTypeList\">\r\n                            </ng-multiselect-dropdown>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-sm-3\">\r\n                        <h5>Accessorial Fees Table Name</h5>\r\n                        <div class=\"form-group\" *ngIf=\"Parent.get('SelectedOrders').value.length==0\">\r\n                            <ng-multiselect-dropdown formControlName=\"AccessorialFeeId\"\r\n                                                     [placeholder]=\"'Type'\"\r\n                                                     class=\"single-select\"\r\n                                                     (onSelect)=\"OnAccessorialFeeIdSelect()\"   \r\n                                                      (onDeSelect)=\"OnAccessorialFeeTableTypeDeSelectForSingle()\"\r\n                                                     [settings]=\"SingleSelectSettingsById\"\r\n                                                     [data]=\"AccessorialFeeIdList\">\r\n                            </ng-multiselect-dropdown>\r\n                        </div>\r\n                        <div class=\"form-group\" *ngIf=\"Parent.get('SelectedOrders').value.length >= 1\">\r\n                            <ng-multiselect-dropdown formControlName=\"AccessorialFeeId\"\r\n                                                     [placeholder]=\"'Type'\"\r\n                                                     (onSelect)=\"OnAccessorialFeeIdSelect()\"\r\n                                                     (onDeSelect)=\"OnAccessorialFeeTableTypeDeSelect()\"\r\n                                                     [settings]=\"MultiSelectSettingsById\"\r\n                                                     [data]=\"AccessorialFeeIdList\">\r\n                            </ng-multiselect-dropdown>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div formArrayName=\"Fees\">\r\n            <div class=\"mt10 mb5\">\r\n                <b>General</b>\r\n            </div>\r\n            <ng-container *ngFor=\"let commonFee of CommonFees; let i = index; let isLast = last\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-10\">\r\n                        <app-fee-type [Parent]=\"Parent\" [FeeGroup]=\"commonFee\" [FeeTypes]=\"FeeTypes\" [Currency]=\"DisplayCurrency\"\r\n                                      [FeeConstraintTypes]=\"FeeConstraintTypes\" [FeeSubTypes]=\"FeeSubTypes\"></app-fee-type>\r\n                    </div>\r\n                    <div class=\"col-sm-2\">\r\n                        <a class=\"fa fa-trash-alt ml10 color-maroon mt10\" (click)=\"removeGeneralFee(true, commonFee)\"></a>\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n            <button type=\"button\" class=\"btn btn-link\" (click)=\"addGeneralFee(true, null)\"><i class=\"fa fa-plus-circle\"></i> Add Fee</button>\r\n            <div class=\"mt10\">\r\n                <b>Other</b>\r\n            </div>\r\n            <ng-container *ngFor=\"let otherFee of OtherFees; let i = index; let isLast = last\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-10\">\r\n                        <app-fee-type [Parent]=\"Parent\" [FeeGroup]=\"otherFee\" [FeeTypes]=\"FeeTypes\" [Currency]=\"DisplayCurrency\"\r\n                                      [FeeConstraintTypes]=\"FeeConstraintTypes\" [FeeSubTypes]=\"FeeSubTypes\"></app-fee-type>\r\n                    </div>\r\n                    <div class=\"col-sm-2\">\r\n                        <a class=\"fa fa-trash-alt ml10 color-maroon mt10\" (click)=\"removeGeneralFee(false, otherFee)\"></a>\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n            <button type=\"button\" class=\"btn btn-link\" (click)=\"addGeneralFee(false, null)\"><i class=\"fa fa-plus-circle\"></i> Add Fee</button>\r\n            <div class=\"mt10\">\r\n                <h4>Weekend / Holiday Fee(s)</h4>\r\n            </div>\r\n            <div class=\"mt10 mb5\">\r\n                <b>General </b>\r\n            </div>\r\n            <ng-container *ngFor=\"let spCommonFee of SpCommonFees; let i = index; let isLast = last\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-10\">\r\n                        <app-fee-type [Parent]=\"Parent\" [FeeGroup]=\"spCommonFee\" [FeeTypes]=\"FeeTypes\" [Currency]=\"DisplayCurrency\"\r\n                                      [FeeConstraintTypes]=\"FeeConstraintTypes\" [FeeSubTypes]=\"FeeSubTypes\"></app-fee-type>\r\n                    </div>\r\n                    <div class=\"col-sm-2\">\r\n                        <a class=\"fa fa-trash-alt ml10 color-maroon mt10\" (click)=\"removeSpecialFee(true, spCommonFee)\"></a>\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n            <button type=\"button\" class=\"btn btn-link\" (click)=\"addSpecialFee(true, 1, null)\"><i class=\"fa fa-plus-circle\"></i> Add Fee</button>\r\n            <div class=\"mt10 mb5\">\r\n                <b>Other</b>\r\n            </div>\r\n            <ng-container *ngFor=\"let spOtherFee of SpOtherFees; let i = index; let isLast = last\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-10\">\r\n                        <app-fee-type [Parent]=\"Parent\" [FeeGroup]=\"spOtherFee\" [FeeTypes]=\"FeeTypes\" [Currency]=\"DisplayCurrency\"\r\n                                      [FeeConstraintTypes]=\"FeeConstraintTypes\" [FeeSubTypes]=\"FeeSubTypes\"></app-fee-type>\r\n                    </div>\r\n                    <div class=\"col-sm-2\">\r\n                        <a class=\"fa fa-trash-alt ml10 color-maroon mt10\" (click)=\"removeSpecialFee(false, spOtherFee)\"></a>\r\n                    </div>\r\n                </div>\r\n            </ng-container>\r\n            <button type=\"button\" class=\"btn btn-link\" (click)=\"addSpecialFee(false, 1, null)\"><i class=\"fa fa-plus-circle\"></i> Add Fee</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { FormGroup, FormArray, FormBuilder, Validators } from '@angular/forms';\r\nimport { DropdownItem, DropdownItemExt, FeeSubType } from 'src/app/statelist.service';\r\nimport { ByQuantityModel } from '../model';\r\n@Component({\r\n    selector: 'app-fee-type',\r\n    templateUrl: './fee-type.component.html',\r\n    styleUrls: ['./fee-type.component.css']\r\n})\r\nexport class FeeTypeComponent implements OnInit, OnChanges {\r\n\r\n    @Input() Parent: FormGroup;\r\n    @Input() FeeGroup: FormGroup;\r\n\r\n    @Input() Currency: string; // Input property from fee-list component \r\n\r\n    public DisplayCurrency: any;\r\n\r\n    //----------------DDL------------------\r\n\r\n    @Input() public FeeTypes: DropdownItemExt[];\r\n    @Input() public FeeSubTypes: FeeSubType[];\r\n    @Input() public FeeConstraintTypes: DropdownItem[];\r\n    public DisplayFeeTypes: FeeSubType[];\r\n\r\n\r\n\r\n    constructor(private fb: FormBuilder) {\r\n        this.DisplayFeeTypes = [];\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.FeeGroup.setValidators(this.feeNameRequired('FeeTypeId', 'OtherFeeDescription', 'CommonFee'));\r\n        if (this.FeeSubTypes != null && this.FeeSubTypes != undefined)\r\n            this.DisplayFeeTypes = this.FeeSubTypes.slice();\r\n        this.DisplayCurrency = this.Currency;\r\n    }\r\n\r\n    ngOnChanges(change: SimpleChanges) {\r\n        if (change.FeeSubTypes && change.FeeSubTypes.currentValue != null) {\r\n            // var subTypes = change.FeeSubTypes.currentValue as FeeSubType[];\r\n            // this.DisplayFeeTypes = subTypes;\r\n            this.updateSubType(this.FeeGroup.get('FeeTypeId').value)\r\n        }\r\n\r\n        if (change.Currency && change.Currency.currentValue) {\r\n            var currency = change.Currency.currentValue;\r\n            this.DisplayCurrency = currency;\r\n        }\r\n    }\r\n\r\n    updateSubType(feeTypeId: string): void {\r\n        let feeSubTypes = this.FeeSubTypes.slice().filter(function (elem) { return elem.FeeTypeId == feeTypeId; });\r\n        if (feeSubTypes.length == 0) {\r\n            let otherFeeSubTypes = [17, 5, 2];\r\n            this.DisplayFeeTypes = this.FeeSubTypes.slice().filter(function (elem) { return otherFeeSubTypes.includes(elem.FeeSubTypeId) && elem.FeeTypeId == \"14\"  });\r\n        }\r\n        else {\r\n            this.DisplayFeeTypes = feeSubTypes;\r\n        }\r\n    }\r\n\r\n    getForm(_fee: ByQuantityModel): FormGroup {\r\n        return this.fb.group({\r\n            Currency: this.fb.control(_fee.Currency),\r\n            MinQuantity: this.fb.control(_fee.MinQuantity, [Validators.required, Validators.pattern(/^([0-9]\\d*(\\.\\d+)?)$/)]),\r\n            MaxQuantity: this.fb.control(_fee.MaxQuantity, [Validators.pattern(/^([0-9]\\d*(\\.\\d+)?)$/), Validators.required]),\r\n            Fee: this.fb.control(_fee.Fee, [Validators.required, Validators.pattern(/^([0-9]\\d*(\\.\\d+)?)$/)])\r\n        });\r\n    }\r\n\r\n    addByQtyFee(fee: FormGroup, feeObj: ByQuantityModel): void {\r\n        if (feeObj == null) {\r\n            feeObj = new ByQuantityModel();\r\n        }\r\n        var _fees = fee.get('DeliveryFeeByQuantity') as FormArray;\r\n        if (_fees.controls.length > 0) {\r\n            var lastMax = _fees.controls[_fees.controls.length - 1].get('MaxQuantity');\r\n            lastMax.setValidators([Validators.required, Validators.pattern(/^([0-9]\\d*(\\.\\d+)?)$/)]);\r\n            feeObj.MinQuantity = lastMax.value;\r\n        }\r\n        var _form = this.getForm(feeObj);\r\n   \r\n        _fees.push(_form);\r\n    }\r\n\r\n    removeByQtyFee(fee: FormGroup, index: number): void {\r\n        var _fees = fee.get('DeliveryFeeByQuantity') as FormArray;\r\n        _fees.removeAt(index);\r\n        if (_fees.controls.length > 0) {\r\n            var lastMax = _fees.controls[_fees.controls.length - 1].get('MaxQuantity');\r\n            lastMax.setValidators([Validators.pattern(/^([0-9]\\d*(\\.\\d+)?)$/), Validators.required]);\r\n        }\r\n    }\r\n\r\n    isInvalid(group: FormGroup, name: string): boolean {\r\n        return group.get(name).invalid &&\r\n            (group.get(name).dirty || group.get(name).touched || group.get(name).invalid);\r\n    }\r\n\r\n    isRequired(group: FormGroup, name: string): boolean {\r\n        return group.get(name).errors.required;\r\n    }\r\n\r\n    isFeeNameRequired(group: FormGroup, name: string): boolean {\r\n        return group.get(name).errors.required;\r\n    }\r\n\r\n    handleByQuantity(group: FormGroup, subTypeId: number): void {\r\n        var fee = group.get('Fee');\r\n        if (subTypeId == 3) {\r\n            fee.setValue(0);\r\n        } else {\r\n            if (fee.value == 0) {\r\n                fee.setValue('');\r\n            }\r\n            (group.get('DeliveryFeeByQuantity') as FormArray).clear();\r\n        }\r\n    }\r\n\r\n    feeNameRequired(field1Name: string, field2Name: string, field3Name: string): any {\r\n        let field1 = this.FeeGroup.controls[field1Name];\r\n        let field2 = this.FeeGroup.controls[field2Name];\r\n        let field3 = this.FeeGroup.controls[field3Name];\r\n        if (field3.value && (field1.value == null || field1.value == '')) {\r\n            return Validators.required(field1);\r\n        } else if (!field3.value && (field2.value == null || field2.value.replace(/\\s/g, '') == '')) {\r\n            return Validators.required(field2);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n","<div class=\"row\" [formGroup]=\"FeeGroup\">\r\n    <div class=\"col-sm-3\">\r\n        <input type=\"hidden\" formControlName=\"OrderId\" />\r\n        <input type=\"hidden\" formControlName=\"CommonFee\" />\r\n        <input type=\"hidden\" formControlName=\"TruckLoadType\" />\r\n        <input type=\"hidden\" formControlName=\"TruckLoadCategoryId\" />\r\n        <input type=\"hidden\" formControlName=\"CommonFee\" />\r\n        <input type=\"hidden\" formControlName=\"IncludeInPPG\" />\r\n        <select formControlName=\"FeeTypeId\" class=\"form-control\"\r\n                [style.display]=\"FeeGroup.get('CommonFee').value ? 'block' : 'none'\"\r\n                #feeTypeId (change)=\"updateSubType(FeeGroup.get('FeeTypeId').value)\">\r\n            <option *ngIf=\"!FeeGroup.get('FeeTypeId').value\" [value]=\"null\">Select Fee</option>\r\n            <option *ngFor=\"let ft of FeeTypes\" [ngValue]=\"ft.Code\" [selected]=\"ft.Code==FeeGroup.get('FeeTypeId').value\">{{ft.Name}}</option>\r\n        </select>\r\n        <div class=\"mb15 form-group\">\r\n            <input type=\"text\" formControlName=\"OtherFeeDescription\" [style.display]=\"FeeGroup.get('CommonFee').value ? 'none' : 'block'\" class=\"form-control\" placeholder=\"Fee Name\" />\r\n            <span *ngIf=\"isInvalid(FeeGroup, 'FeeTypeId') || isInvalid(FeeGroup, 'OtherFeeDescription')\" class=\"color-maroon\">\r\n                <span *ngIf=\"isRequired(FeeGroup, 'FeeTypeId') || isFeeNameRequired(FeeGroup, 'OtherFeeDescription')\">\r\n                    Required.\r\n                </span>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-sm-3\">\r\n        <div class=\"form-group\">\r\n            <select formControlName=\"FeeSubTypeId\" class=\"form-control\" (focus)=\"updateSubType(FeeGroup.get('FeeTypeId').value)\"\r\n                    (change)=\"handleByQuantity(FeeGroup, FeeGroup.get('FeeSubTypeId').value)\">\r\n                <option *ngIf=\"!FeeGroup.get('FeeSubTypeId').value\" [value]=\"null\">Select Fee Type</option>\r\n                <option *ngFor=\"let fst of DisplayFeeTypes\" [value]=\"fst.FeeSubTypeId\"\r\n                        [selected]=\"fst.FeeSubTypeId==FeeGroup.get('FeeSubTypeId').value\">\r\n                    {{fst.SubTypeName}}\r\n                </option>\r\n            </select>\r\n            <span *ngIf=\"isInvalid(FeeGroup, 'FeeSubTypeId')\" class=\"color-maroon pa\">\r\n                <span *ngIf=\"isRequired(FeeGroup, 'FeeSubTypeId')\">\r\n                    Required.\r\n                </span>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-sm-3\" *ngIf=\"FeeGroup.get('FeeConstraintTypeId').value!=null\">\r\n        <div class=\"form-group\">\r\n            <select formControlName=\"FeeConstraintTypeId\" *ngIf=\"FeeGroup.get('FeeConstraintTypeId').value\" class=\"form-control\">\r\n                <option *ngFor=\"let fc of FeeConstraintTypes\" [value]=\"fc.Id\"\r\n                        [selected]=\"fc.Id==FeeGroup.get('FeeConstraintTypeId').value\">\r\n                    {{fc.Name}}\r\n                </option>\r\n            </select>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-sm-3\" *ngIf=\"FeeGroup.get('FeeConstraintTypeId').value==2\">\r\n        <div class=\"form-group\">\r\n            <input type=\"text\" formControlName=\"SpecialDate\" class=\"form-control datepicker\" placeholder=\"Date\" myDatePicker [format]=\"'MM/DD/YYYY'\" (onDateChange)=\"FeeGroup.get('SpecialDate').setValue($event)\" />\r\n        </div>\r\n    </div>\r\n    <div class=\"col-sm-3\" *ngIf=\"FeeGroup.get('FeeTypeId').value == '8'\">\r\n        <input type=\"text\" formControlName=\"MinimumGallons\" class=\"form-control\" placeholder=\"Min Quantity\" />\r\n    </div>\r\n    <div class=\"col-sm-3\">\r\n        <div class=\"form-group\">\r\n            <div class=\"input-group\">\r\n                <input type=\"text\" formControlName=\"Fee\" class=\"form-control\" *ngIf=\"FeeGroup.get('FeeSubTypeId').value != 3\" placeholder=\"Fee\" />\r\n                <div class=\"input-group-addon fs12\" *ngIf=\"FeeGroup.get('FeeSubTypeId').value != 3\">{{DisplayCurrency}}</div>\r\n            </div>\r\n            <span *ngIf=\"isInvalid(FeeGroup, 'Fee')\" class=\"color-maroon\">\r\n                <span *ngIf=\"isRequired(FeeGroup, 'Fee')\">\r\n                    Required.\r\n                </span>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-sm-9\" *ngIf=\"FeeGroup.get('FeeSubTypeId').value == 3\">\r\n        <div formArrayName=\"DeliveryFeeByQuantity\">\r\n            <div *ngFor=\"let byQty of FeeGroup.get('DeliveryFeeByQuantity')['controls'];  let i = index;\">\r\n                <div class=\"row\" [formGroupName]=\"i\">\r\n                    <div class=\"col-sm-3 pr0 mb5\">\r\n                        <input type=\"hidden\" formControlName=\"Currency\" />\r\n                        <input type=\"text\" formControlName=\"MinQuantity\" class=\"form-control\" readonly=\"readonly\" placeholder=\"Min Quantity\" />\r\n                    </div>\r\n                    <div class=\"col-sm-3 pr0 mb5\">\r\n                        <input type=\"text\" formControlName=\"MaxQuantity\" class=\"form-control\" placeholder=\"Max Quantity\" />\r\n                        <span *ngIf=\"isInvalid(byQty, 'MaxQuantity')\" class=\"color-maroon\">\r\n                            <span *ngIf=\"isRequired(byQty, 'MaxQuantity')\">\r\n                                Required.\r\n                            </span>\r\n                        </span>\r\n                    </div>\r\n                    <div class=\"col-sm-3 pr0 mb5\">\r\n                        <input type=\"text\" formControlName=\"Fee\" class=\"form-control\" placeholder=\"Fee\" />\r\n                        <span *ngIf=\"isInvalid(byQty, 'Fee')\" class=\"color-maroon\">\r\n                            <span *ngIf=\"isRequired(byQty, 'Fee')\">\r\n                                Required.\r\n                            </span>\r\n                        </span>\r\n                    </div>\r\n                    <div class=\"col-sm-1\">\r\n                        <a (click)=\"removeByQtyFee(FeeGroup, i)\"><i class=\"fa fa-trash-alt color-maroon mt10\"></i></a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row mb10\">\r\n                <div class=\"col-sm-12\">\r\n                    <a (click)=\"addByQtyFee(FeeGroup, null)\"><i class=\"fa fa-plus-circle\"></i> Add Quantity Range</a>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\n@Pipe({\r\n    name: 'filter'\r\n})\r\nexport class FilterPipe implements PipeTransform {\r\n\r\n    transform(items: any[], field: string, value: string): any[] {\r\n        if (!items) {\r\n            return [];\r\n        }\r\n        if (!field || !value) {\r\n            return items;\r\n        }\r\n\r\n        var filtered = items.filter(singleItem => singleItem[field].value == value);\r\n        return filtered;\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FeeListComponent } from './fee-list/fee-list.component';\r\nimport { FeeTypeComponent } from './fee-list/fee-type.component';\r\nimport { FilterPipe } from './fee-list/filter.pipe';\r\nimport { GlobalModule } from '../modules/global.module';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgMultiSelectDropDownModule } from 'ng-multiselect-dropdown';\r\nimport { ConfirmationPopoverModule } from 'angular-confirmation-popover';\r\nimport { DirectiveModule } from '../modules/directive.module';\r\nimport { AngularMultiSelectModule } from 'angular2-multiselect-dropdown';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        FeeListComponent,\r\n        FeeTypeComponent,\r\n        FilterPipe],\r\n    imports: [\r\n        CommonModule,\r\n        GlobalModule,\r\n        NgbModule,\r\n        NgMultiSelectDropDownModule.forRoot(),\r\n        ConfirmationPopoverModule.forRoot({\r\n            confirmButtonType: 'danger' // set defaults here\r\n        }),\r\n        DirectiveModule,\r\n        AngularMultiSelectModule\r\n    ],\r\n    exports: [\r\n        FeeListComponent, \r\n        FeeTypeComponent,\r\n        FilterPipe]\r\n})\r\nexport class FeesModule { }\r\n","export class FeeModel {\r\n    public OrderId: number;\r\n    public Currency: number;\r\n    public TruckLoadType: number;\r\n    public TruckLoadCategoryId: number;\r\n    public CommonFee: boolean;\r\n    public FeeConstraintTypeId: number;\r\n    public SpecialDate: string;\r\n    public FeeTypeId: string;\r\n    public FeeSubTypeId: number;\r\n    public OtherFeeDescription: string;\r\n    public MinimumGallons: number;\r\n    public DeliveryFeeByQuantity: ByQuantityModel[];\r\n    public Fee: number;\r\n    public IncludeInPPG: boolean;\r\n}\r\n\r\nexport class ByQuantityModel {\r\n    Currency: number;\r\n    MinQuantity: number = 0;\r\n    MaxQuantity: number;\r\n    Fee: number;\r\n}\r\n\r\nexport function IsMatched(x: FeeModel, y: FeeModel) {\r\n    return y.FeeTypeId == x.FeeTypeId\r\n        && y.FeeSubTypeId == x.FeeSubTypeId\r\n        && y.CommonFee == x.CommonFee\r\n        && y.FeeConstraintTypeId == x.FeeConstraintTypeId;\r\n};\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable, ObservableLike } from 'rxjs';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { HandleError } from '../../errors/HandleError';\r\nimport { DropdownItem, DropdownItemExt, FeeSubType } from '../../statelist.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FeeService extends HandleError {\r\n\r\n    private getFeeTypesUrl = '/Supplier/Invoice/GetFeeTypes?orderId=';\r\n    private getFeeSubTypesUrl = '/Supplier/Invoice/GetFeeSubTypes?orderId=';\r\n    private getSalesFeeTypesUrl = '/SalesUser/SourcingRequest/GetFeeTypes?currency=';\r\n    private getSalesFeeSubTypesUrl = '/SalesUser/SourcingRequest/GetFeeSubTypes?currency=';\r\n    private getFeeConstraintTypesUrl = '/Supplier/Invoice/GetFeeConstraintTypes';\r\n    //private getEiaPriceUrl = '/Supplier/Invoice/GetEIAPrice';\r\n\r\n    constructor(private httpClient: HttpClient) {\r\n        super();\r\n    }\r\n\r\n    getFeeTypes(orderId: number,currancy: string, isSale:boolean): Observable<DropdownItemExt[]> {\r\n        if(isSale){\r\n            return this.httpClient.get<DropdownItemExt[]>(this.getSalesFeeTypesUrl + currancy)\r\n            .pipe(catchError(this.handleError<DropdownItemExt[]>('getSalesFeeTypesUrl', [])));\r\n        }else{\r\n            return this.httpClient.get<DropdownItemExt[]>(this.getFeeTypesUrl + orderId)\r\n            .pipe(catchError(this.handleError<DropdownItemExt[]>('getFeeTypes', [])));\r\n        }\r\n        \r\n    }\r\n\r\n    getFeeSubTypes(orderId: number,currancy: string, isSale:boolean): Observable<FeeSubType[]> {\r\n        if(isSale){\r\n            return this.httpClient.get<FeeSubType[]>(this.getSalesFeeSubTypesUrl + currancy)\r\n            .pipe(catchError(this.handleError<FeeSubType[]>('getSalesFeeSubTypesUrl', [])));\r\n        }else{\r\n            return this.httpClient.get<FeeSubType[]>(this.getFeeSubTypesUrl + orderId)\r\n            .pipe(catchError(this.handleError<FeeSubType[]>('getFeeSubTypes', [])));\r\n        }\r\n       \r\n    }\r\n\r\n    getFeeConstraintTypes(): Observable<DropdownItem[]> {\r\n        return this.httpClient.get<DropdownItem[]>(this.getFeeConstraintTypesUrl)\r\n            .pipe(catchError(this.handleError<DropdownItem[]>('getFeeConstraintTypes', [])));\r\n    }\r\n\r\n   \r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HandleError } from '../../errors/HandleError';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { InvoiceDetailModel, AssetDropModel, DropDetailModel, FeeModel, MFNConversionRequestViewModel, BlendedSchedules } from '../models/DropDetail';\r\nimport { DropdownItem } from 'src/app/statelist.service';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class InvoiceService extends HandleError {\r\n\r\n    private getPoListUrl: string = '/Supplier/invoice/GetCustomerPoList?orderId=';\r\n    private getDefaultUrl: string = '/Supplier/Invoice/GetInvoiceViewModel?orderId=';\r\n    private getAssetstUrl: string = '/Supplier/Invoice/GetAssignedAssets?orderId=';\r\n    private getAnotherProductUrl: string = '/Supplier/Invoice/GetInvoiceDropModel?orderId=';\r\n    private getTerminalsUrl: string = '/Supplier/Invoice/GetTerminals?orderId=';\r\n    private getTerminalPriceByIdUrl: string = '/Supplier/Invoice/GetTerminalPriceById';\r\n    private postCreateInvoiceUrl: string = '/Supplier/Invoice/CreateNew';\r\n    private postConvertToInvoiceUrl: string = '/Supplier/Invoice/ConvertToInvoice?ddtId=';\r\n    private getInvoiceDropFeesUrl = '/Supplier/invoice/GetInvoiceDropFees?orderId=';\r\n    private getSchedulesUrl = '/Supplier/invoice/GetDeliverySchedules?orderId=';\r\n    private getInvoiceDetailsUrl = '/Supplier/Invoice/GetOriginalInvoiceDetails?invoiceId=';\r\n    private getTaxePricingTypesUrl = '/Supplier/Invoice/GetTaxePricingTypes?orderId=';\r\n    private getDriverListUrl = '/Supplier/Invoice/GetAllDrivers';\r\n    private getsastokenurl: string = '/Supplier/Invoice/GetSasToken';\r\n    private getAssignedurl: string = '/Supplier/Invoice/GetAssignedDriver?scheduleId=';\r\n    private getCalculatedDropqtysUrl: string = '/Supplier/Invoice/CalculateDropQuantitiesFromPrePostForCreateInvoice';\r\n    private validateGravityUrl: string = '/Supplier/Invoice/ValidateGravityAndConvertForMFN';\r\n    private getEiaPriceUrl = '/Supplier/Invoice/GetEIAPrice';\r\n    private getEiaPriceAutoFreightMethodUrl = 'Supplier/Invoice/GetEIAPriceForAutoFreightMethod';\r\n    private getBlendedProductsUrl = '/Supplier/Invoice/GetBlendedProducts?blendGroupId=';\r\n    private getFreightTableTypesUrl = '/FreightRate/GetFreightRateRuleTypes';\r\n    public getTableTypesUrl = \"/FuelSurcharge/GetTableTypes\";\r\n    public getFreightTableNameUrl = '/Freight/GetFreightRateTablesForInvoice';\r\n    public getFuelSurchargeTableNameUrl = 'FuelSurcharge/GetFuelSurchargeTablesForInvoice';\r\n    public getAccessorialTableNameUrl = 'FuelSurcharge/GetAccessorialFeeTablesForInvoice';\r\n    public GetAccessorialFeeTablesForConsolidatedUrl = 'FuelSurcharge/GetAccessorialFeeTablesForConsolidated';\r\n    public GetAccessorialFeeTablesForSelectedOrderUrl = 'FuelSurcharge/GetAccessorialFeeTablesForSelectedOrder';\r\n    public getAccessorialFeeByOrderUrl = 'Supplier/Invoice/GetAccessorialFeeByOrder';\r\n    public getAccessorialFeeByAccessorialFeeIdUrl = 'Supplier/Invoice/GetAccessorialFeeByAccessorialFeeId';\r\n    public GetFreightCostForAutoInvoiceUrl = 'FuelSurcharge/GetFreightCostForInvoice';\r\n    constructor(private httpClient: HttpClient) {\r\n        super();\r\n    }\r\n\r\n    getDefaultDetail(_orderId: number, trackableScheduleId: number): Observable<InvoiceDetailModel> {\r\n        return this.httpClient.get<InvoiceDetailModel>(this.getDefaultUrl + _orderId + '&trackableScheduleId=' + trackableScheduleId)\r\n            .pipe(catchError(this.handleError<InvoiceDetailModel>('getDefaultDetail', null)));\r\n    }\r\n\r\n    getPoList(orderId: number): Observable<any> {\r\n        return this.httpClient.get(this.getPoListUrl + orderId)\r\n            .pipe(catchError(this.handleError<any>('getPoList', null)));\r\n\r\n    }\r\n\r\n    getAssets(orderId: number): Observable<AssetDropModel[]> {\r\n        return this.httpClient.get<AssetDropModel[]>(this.getAssetstUrl + orderId)\r\n            .pipe(catchError(this.handleError<AssetDropModel[]>('getAssets', [])));\r\n    }\r\n\r\n    getAnotherProductDetail(_orderId: number): Observable<DropDetailModel> {\r\n        return this.httpClient.get<DropDetailModel>(this.getAnotherProductUrl + _orderId)\r\n            .pipe(catchError(this.handleError<DropDetailModel>('getAnotherProductDetail', null)));\r\n    }\r\n\r\n    getTerminals(_orderId: number, _terminal?:string): Observable<DropdownItem[]> {\r\n        return this.httpClient.get<DropdownItem[]>(this.getTerminalsUrl + _orderId + '&terminal=' + _terminal)\r\n            .pipe(catchError(this.handleError<DropdownItem[]>('getTerminals', null)));\r\n    }\r\n\r\n    getTerminalPriceById(terminalId: number, orderId: number, deliveryDate: string): Observable<any> {\r\n        return this.httpClient.post(this.getTerminalPriceByIdUrl, { terminalId: terminalId, orderId: orderId, deliveryDate: deliveryDate })\r\n            .pipe(catchError(this.handleError<any>('getTerminalPriceById')));\r\n    }\r\n    getInvoiceDropFees(_orderId: number): Observable<FeeModel[]> {\r\n        return this.httpClient.get<FeeModel[]>(this.getInvoiceDropFeesUrl + _orderId)\r\n            .pipe(catchError(this.handleError<FeeModel[]>('getInvoiceDropFees', null)));\r\n    }\r\n\r\n    getSchedules(_orderId: number): Observable<DropdownItem[]> {\r\n        return this.httpClient.get<DropdownItem[]>(this.getSchedulesUrl + _orderId)\r\n            .pipe(catchError(this.handleError<DropdownItem[]>('getSchedules', null)));\r\n    }\r\n\r\n    getSASforblobStorage(): Observable<any> {\r\n        return this.httpClient.get(this.getsastokenurl);\r\n    }\r\n\r\n    postCreateInvoice(invoiceModel: any, existingId: number): Observable<any> {\r\n        if (existingId > 0 && !invoiceModel.IsRebillInvoice) {\r\n            return this.httpClient.post<any>(this.postConvertToInvoiceUrl + existingId, invoiceModel)\r\n                .pipe(catchError(this.handleError<any>('postConvertToInvoice', null)));\r\n        } else {\r\n            return this.httpClient.post<any>(this.postCreateInvoiceUrl, invoiceModel)\r\n                .pipe(catchError(this.handleError<any>('postCreateInvoice', null)));\r\n        }\r\n    }\r\n\r\n    postConvertToInvoice(invoiceModel: any, ddtId: number): Observable<any> {\r\n        return this.httpClient.post<any>(this.postConvertToInvoiceUrl + ddtId, invoiceModel)\r\n            .pipe(catchError(this.handleError<any>('postConvertToInvoice', null)));\r\n    }\r\n\r\n    getInvoiceDetails(_invoiceId: number): Observable<InvoiceDetailModel> {\r\n        return this.httpClient.get<InvoiceDetailModel>(this.getInvoiceDetailsUrl + _invoiceId)\r\n            .pipe(catchError(this.handleError<InvoiceDetailModel>('getInvoiceDetails', null)));\r\n    }\r\n    getBlendedProducts(_blendGroupId: string): Observable<BlendedSchedules[]> {\r\n        return this.httpClient.get<BlendedSchedules[]>(this.getBlendedProductsUrl + _blendGroupId)\r\n            .pipe(catchError(this.handleError<BlendedSchedules[]>('getBlendedProducts', null)));\r\n    }\r\n    getTaxePricingTypes(_orderId: number): Observable<DropdownItem[]> {\r\n        return this.httpClient.get<DropdownItem[]>(this.getTaxePricingTypesUrl +_orderId)\r\n            .pipe(catchError(this.handleError<DropdownItem[]>('getTaxePricingTypes', null)));\r\n    }\r\n    getDriverList(): Observable<any> {\r\n        return this.httpClient.get(this.getDriverListUrl).pipe(catchError(this.handleError<any>('getDriverList', null)));\r\n    }\r\n    getAssignedDriverForSchedule(_scheduleId: number, _orderId: number): Observable<any> {\r\n        return this.httpClient.get<any>(this.getAssignedurl + _scheduleId + '&orderId=' + _orderId)\r\n            .pipe(catchError(this.handleError<any>('getAssignedDriverForSchedule', null)));\r\n    }\r\n\r\n    postPrePostAssetsInfo(assetInfo: any): Observable<any> {\r\n        return this.httpClient.post<any>(this.getCalculatedDropqtysUrl,assetInfo)\r\n            .pipe(catchError(this.handleError<any>('postPrePostAssetsInfo', null)));\r\n    }\r\n    ValidateGravityAndConvertForMFN(conversionRequest: MFNConversionRequestViewModel): Observable<any> {\r\n        return this.httpClient.post<any>(this.validateGravityUrl, conversionRequest)\r\n            .pipe(catchError(this.handleError<any>('ValidateGravityAndConvertForMFN', null)));\r\n    }\r\n    getEiaPrice(data: any): Observable<any> {\r\n        return this.httpClient.post(this.getEiaPriceUrl, data)\r\n            .pipe(catchError(this.handleError<DropdownItem[]>('getEiaPrice', [])));\r\n    }\r\n    getEiaPriceAutoFreightMethod(data: any): Observable<any> {\r\n        return this.httpClient.post(this.getEiaPriceAutoFreightMethodUrl, data)\r\n            .pipe(catchError(this.handleError<DropdownItem[]>('getEiaPriceAutoFreightMethod', [])));\r\n    }\r\n    getFreightTable(): Observable<DropdownItem[]> {\r\n        return this.httpClient.get<any>(this.getFreightTableTypesUrl)\r\n            .pipe(catchError(this.handleError<any>('getFreightTable', null)));\r\n    }\r\n    getTableTypes(): Observable<DropdownItem[]> {\r\n        return this.httpClient.get<any>(this.getTableTypesUrl)\r\n            .pipe(catchError(this.handleError<any>('GetTableTypes', null)));\r\n    }\r\n    getFreightTableName(filter: any): Observable<any> {\r\n        return this.httpClient.post<any>(this.getFreightTableNameUrl, filter)\r\n            .pipe(catchError(this.handleError<any>('getFreightTableName', null)));\r\n    }\r\n    getFuelSurchargeTableName(filter: any): Observable<any> {\r\n        return this.httpClient.post<any>(this.getFuelSurchargeTableNameUrl, filter)\r\n            .pipe(catchError(this.handleError<any>('getFuelSurchargeTableName', null)));\r\n    }\r\n    getAccessorialTableName(filter: any): Observable<any> {\r\n        return this.httpClient.post<any>(this.getAccessorialTableNameUrl, filter)\r\n            .pipe(catchError(this.handleError<any>('getAccessorialTableName', null)));\r\n    }\r\n    GetAccessorialFeeTablesForConsolidated(filter: any): Observable<any> {\r\n        return this.httpClient.post<any>(this.GetAccessorialFeeTablesForConsolidatedUrl, filter)\r\n            .pipe(catchError(this.handleError<any>('GetAccessorialFeeTablesForConsolidated', null)));\r\n    }\r\n    GetAccessorialFeeTablesForSelectedOrder(orderIds: any): Observable<any> {\r\n        return this.httpClient.post<any>(this.GetAccessorialFeeTablesForSelectedOrderUrl, { orderIds: orderIds })\r\n            .pipe(catchError(this.handleError<any>('GetAccessorialFeeTablesForSelectedOrder', null)));\r\n    }\r\n   \r\n    GetAccessorialFeeByOrder(orderId: any): Observable<any> {\r\n        return this.httpClient.post<any>(this.getAccessorialFeeByOrderUrl, { orderId: orderId })\r\n            .pipe(catchError(this.handleError<any>('GetAccessorialFeeByOrder', null)));\r\n    }\r\n\r\n    GetAccessorialFeeByAccessorialFeeId(accessorialFeeId: any): Observable<any> {\r\n        return this.httpClient.post<any>(this.getAccessorialFeeByAccessorialFeeIdUrl, { accessorialFeeId: accessorialFeeId })\r\n            .pipe(catchError(this.handleError<any>('GetAccessorialFeeByAccessorialFeeId', null)));\r\n    }\r\n\r\n    GetFreightCostForAutoInvoice(filter: any): Observable<any> {\r\n        return this.httpClient.post<any>(this.GetFreightCostForAutoInvoiceUrl , filter)\r\n            .pipe(catchError(this.handleError<any>('GetFreightCostForAutoInvoice', null)));\r\n    }\r\n}\r\n"]}