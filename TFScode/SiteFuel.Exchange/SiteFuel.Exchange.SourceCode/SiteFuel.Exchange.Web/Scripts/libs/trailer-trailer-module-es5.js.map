{"version":3,"sources":["webpack:///src/app/trailer/trailer.module.ts","webpack:///src/app/trailer/view-trailer/view-trailer.component.ts","webpack:///src/app/trailer/view-trailer/view-trailer.component.html"],"names":["routeTrailer","path","component","TrailerModule","forChild","declarations","imports","ViewTrailerComponent","carrierService","TruckStatus","TrailerType","LicenceRequirements","popoverTitle","confirmButtonText","cancelButtonText","dtOptions","dtTrigger","ModalText","exportColumns","columns","dom","buttons","extend","exportOptions","title","orientation","pagingType","pageLength","ordering","lengthMenu","getAllTrucks","unsubscribe","truck","TrailerComponent","undefined","loadTruckDetail","postDeleteTruck","subscribe","data","StatusCode","msgsuccess","StatusMessage","loadTruckDetails","header","Trucks","next","clearTrailerForm","$","DataTable","clear","destroy","createTrailer","clearPanelData","selector","templateUrl","styleUrls"],"mappings":"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","file":"trailer-trailer-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SharedModule } from '../modules/shared.module';\r\nimport { DirectiveModule } from '../modules/directive.module';\r\nimport { DataTablesModule } from 'angular-datatables';\r\nimport { ViewTrailerComponent } from './view-trailer/view-trailer.component';\r\n\r\nconst routeTrailer: Routes = [\r\n    {\r\n        path: '',\r\n        component: ViewTrailerComponent\r\n    },\r\n\r\n]\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ViewTrailerComponent,\r\n    ],\r\n    imports: [\r\n        SharedModule,\r\n        DirectiveModule,\r\n        DataTablesModule,\r\n        RouterModule.forChild(routeTrailer)\r\n    ]\r\n})\r\nexport class TrailerModule { }\r\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { Declarations } from '../../declarations.module';\r\nimport { CarrierService } from 'src/app/carrier/service/carrier.service';\r\nimport { TruckDetailsModel } from 'src/app/carrier/model';\r\nimport { CreateTrailerComponent } from 'src/app/shared-components/create-trailer/create-trailer.component';\r\nimport { LicenceRequirement, TrailerType, TruckStatus } from 'src/app/app.enum';\r\n\r\n@Component({\r\n    selector: 'app-view-trailer',\r\n    templateUrl: './view-trailer.component.html',\r\n    styleUrls: ['./view-trailer.component.css']\r\n})\r\n\r\nexport class ViewTrailerComponent implements OnInit, OnDestroy {\r\n    //public IsCreateTruck: boolean;\r\n    public Trucks: TruckDetailsModel[];\r\n    public ModalText: string;\r\n    public TruckStatus: typeof TruckStatus = TruckStatus;\r\n    public TrailerType: typeof TrailerType = TrailerType;\r\n    public LicenceRequirements: typeof LicenceRequirement = LicenceRequirement;\r\n\r\n    public popoverTitle: string = 'Are you sure?';\r\n    public confirmButtonText: string = 'Yes';\r\n    public cancelButtonText: string = 'No';\r\n\r\n    dtOptions: any = {};\r\n    dtTrigger: Subject<any> = new Subject();\r\n    constructor(private carrierService: CarrierService) { }\r\n    @ViewChild(CreateTrailerComponent) TrailerComponent: CreateTrailerComponent;\r\n\r\n    ngOnInit() {\r\n        this.ModalText = 'Create Trailer';\r\n        var exportColumns = { columns: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10] };\r\n        this.dtOptions = {\r\n            dom: '<\"html5buttons\"B>lTfgitp',\r\n            buttons: [\r\n                { extend: 'colvis' },\r\n                { extend: 'copy', exportOptions: exportColumns },\r\n                { extend: 'csv', title: 'Trailer Details', exportOptions: exportColumns },\r\n                { extend: 'pdf', title: 'Trailer Details', orientation: 'landscape', exportOptions: exportColumns },\r\n                { extend: 'print', exportOptions: exportColumns }\r\n            ],\r\n            pagingType: 'first_last_numbers',\r\n            pageLength: 10,\r\n            ordering: false,\r\n            lengthMenu: [[10, 25, 50, 100, -1], [10, 25, 50, 100, \"All\"]]\r\n        };\r\n        this.getAllTrucks();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.dtTrigger.unsubscribe();\r\n    }\r\n    editTruck(truck) {\r\n        if (this.TrailerComponent != undefined) {\r\n            this.TrailerComponent.loadTruckDetail(truck);\r\n        }\r\n    }\r\n    deleteTruck(truck) {\r\n        this.carrierService.postDeleteTruck(truck).subscribe(data => {\r\n            if (data.StatusCode == 0) {\r\n                Declarations.msgsuccess(data.StatusMessage, undefined, undefined);\r\n                this.loadTruckDetails();\r\n            }\r\n        });\r\n    }\r\n    createTrailer(header: string) {\r\n        this.ModalText = header;\r\n        //this.IsCreateTruck = true;\r\n    }\r\n\r\n    getAllTrucks() {\r\n        this.carrierService.getAllTrucks().subscribe(data => {\r\n            this.Trucks = data;\r\n            this.dtTrigger.next();\r\n        });\r\n    }\r\n    clearPanelData() {\r\n        if (this.TrailerComponent != undefined) {\r\n            this.TrailerComponent.clearTrailerForm();\r\n        }\r\n    }\r\n    loadTruckDetails() {\r\n        this.getAllTrucks();\r\n        $(\"#truck-datatable\").DataTable().clear().destroy();\r\n    }\r\n}\r\n","<div>\r\n    <div class=\"row\">\r\n        <div class=\"col-12\">\r\n            <img src=\"src/assets/trailer.png\" class=\"pull-left mr10\" width=\"40\" />\r\n            <h4 class=\"pt0 pull-left\">Trailer Summary</h4>\r\n            <a (click)=\"createTrailer('Create Trailer')\" onclick=\"slidePanel('#create-trailer','50%')\" class=\"fs18 pull-left ml10\">\r\n                <i class=\"fa fa-plus-circle fs18 mt4 pull-left\"></i><span class=\"fs14 mt2 pull-left\">Add Trailer</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"well bg-white shadowb-b\">\r\n                <div class=\"ibox mb0\">\r\n                    <div class=\"ibox-content no-padding no-border\">\r\n                        <div id=\"truck-details-grid\" class=\"table-responsive\">\r\n                            <!--Enum - GridName.TrailerSummaryGrid - 15-->\r\n                            <table id=\"truck-datatable\" data-gridname=\"15\" datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger\" class=\"table table-striped table-bordered table-hover\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Trailer Id</th>\r\n                                        <th>Name</th>\r\n                                        <th>Owner</th>\r\n                                        <th>Licence Requirement</th>\r\n                                        <th>Licence Plate</th>\r\n                                        <th>Expiration Date</th>\r\n                                        <th>Fuel Capacity</th>\r\n                                        <th>Contract Number</th>\r\n                                        <th>Compartments</th>\r\n                                        <th>Trailer Type</th>\r\n                                        <th>Status</th>\r\n                                        <th>Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngFor=\"let truck of Trucks\">\r\n                                        <td>{{truck.TruckId}}</td>\r\n                                        <td>\r\n                                            <span *ngIf=\"truck.Name != null\">{{truck.Name}}</span>\r\n                                            <span *ngIf=\"truck.Name == null\">--</span>\r\n                                        </td>\r\n                                        <td>\r\n                                            <span *ngIf=\"truck.Owner != null\">{{truck.Owner}}</span>\r\n                                            <span *ngIf=\"truck.Owner == null\">--</span>\r\n                                        </td>\r\n                                        <td>\r\n                                            {{LicenceRequirements[truck.LicenceRequirement]}}\r\n                                        </td>\r\n                                        <td>\r\n                                            <span *ngIf=\"truck.LicencePlate != null\">{{truck.LicencePlate}}</span>\r\n                                            <span *ngIf=\"truck.LicencePlate == null\">--</span>\r\n                                        </td>\r\n                                        <td>\r\n                                            <span *ngIf=\"truck.ExpirationDate != null\">{{truck.ExpirationDate}}</span>\r\n                                            <span *ngIf=\"truck.ExpirationDate == null\">--</span>\r\n                                        </td>\r\n                                        <td>\r\n                                            <span *ngIf=\"truck.FuelCapacity > 0\">{{truck.FuelCapacity}}</span>\r\n                                            <span *ngIf=\"truck.FuelCapacity == 0\">--</span>\r\n                                        </td>\r\n                                        <td>\r\n                                            <span *ngIf=\"truck.ContractNumber != null\">{{truck.ContractNumber}}</span>\r\n                                            <span *ngIf=\"truck.ContractNumber == null\">--</span>\r\n                                        </td>\r\n                                        <td>\r\n                                            <div *ngFor=\"let comp of truck.Compartments\">\r\n                                                <span>{{comp.CompartmentId}}</span>\r\n                                                <span *ngIf=\"comp.Capacity > 0\">{{' : ' + comp.Capacity}}</span>\r\n                                                <br />\r\n                                            </div>\r\n                                            <div *ngIf=\"truck.Compartments.length == 0\">--</div>\r\n                                        </td>\r\n                                        <td>{{TrailerType[truck.TrailerType]}}</td>\r\n                                        <td>{{TruckStatus[truck.Status]}}</td>\r\n                                        <td class=\"text-center\">\r\n                                            <button type=\"button\" (click)=\"createTrailer('Edit Trailer');editTruck(truck);\" class=\"btn btn-link\" onclick=\"slidePanel('#create-trailer','30%')\"><i class=\"fas fa-edit fs16\"></i></button>\r\n                                            <button type=\"button\" class=\"btn btn-link ml10\" mwlConfirmationPopover [popoverTitle]=\"popoverTitle\" [confirmText]=\"confirmButtonText\" [cancelText]=\"cancelButtonText\" placement=\"bottom\" (confirm)=\"deleteTruck(truck)\"><i class=\"fas fa-trash-alt color-maroon\"></i></button>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div id=\"create-trailer\" class=\"side-panel pl5 pr5\">\r\n    <div class=\"side-panel-wrapper\">\r\n        <div class=\"pt15 pb0 mb10\">\r\n            <a class=\"ml15 close-panel\" (click)=\"clearPanelData()\" onclick=\"closeSlidePanel();\"><i class=\"fa fa-close fs18\"></i></a>\r\n            <h3 class=\"dib mt0 mb0 ml15\">{{ModalText}}</h3>\r\n        </div>\r\n        <div>\r\n            <!--<div *ngIf=\"IsCreateTruck\"> -->\r\n            <app-create-trailer (onSubmitGroupData)=\"loadTruckDetails()\"></app-create-trailer>\r\n            <!--</div>-->\r\n        </div>\r\n    </div>\r\n    </div>\r\n"]}