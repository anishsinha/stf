<div *ngIf="!isSubmitted">
    <div class="row custom-bg" [style.background-image]="'url(' + backgroundImage + ')'">
            <div class="loader" *ngIf="pageloader">
                <div class="loading-content text-center">
                    <div class="spinner"></div>
                </div>
            </div>
            <!-- <div class="pa bg-white top0 left0 z-index5 loading-wrapper mtm10 loader-fueltype" *ngIf="pageloader">
            <span class="spinner-dashboard pa"></span>
        </div> -->
            <div class="col-sm-12 p-0">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-12 bg-white fixed" style="z-index: 2;" [ngStyle]="getHeaderColor()">
                            <img [src]="logoImage" alt="" style="position: sticky;height: 50px;top: 0;" class="py-2">
                        </div>
                    </div>
                    <div class="row wizard">
                        <div class="col-sm-3">
                            <div class="" style="position: sticky; top: 4rem;">

                                <!--<app-left-menu class="fixed-areaa"></app-left-menu>-->
                                <div class="list-group bg-white shadow">
                                    <button (click)="scrollToElement(WizardTabEnum.ContactInfo)" type="button"
                                            class="list-group-item list-group-item-action"
                                            [class.active-widget]="activeWizard === WizardTabEnum.ContactInfo"
                                            [ngStyle]="activeWizard===WizardTabEnum.ContactInfo ? getButtonColor(): {}">
                                        <span class="mr-2 number d-inline-block f-bold text-center"><i class="fas fa-user"></i></span>Contact
                                        Information
                                    </button>
                                    <button (click)="scrollToElement(WizardTabEnum.CompanyInfo)" type="button"
                                            class="list-group-item list-group-item-action"
                                            [class.active-widget]="activeWizard === WizardTabEnum.CompanyInfo"
                                            [ngStyle]="activeWizard===WizardTabEnum.CompanyInfo ? getButtonColor(): {}">
                                        <span class="mr-2 number d-inline-block f-bold text-center"><i class="far fa-building"></i></span>Company
                                        Information
                                    </button>
                                    <button (click)="scrollToElement(WizardTabEnum.FleetInfo)" type="button"
                                            class="list-group-item list-group-item-action"
                                            [class.active-widget]="activeWizard === WizardTabEnum.FleetInfo"
                                            [ngStyle]="activeWizard===WizardTabEnum.FleetInfo ? getButtonColor(): {}">
                                        <span class="mr-2 number d-inline-block f-bold text-center"><i class="fas fa-truck-moving"></i></span>Fleet
                                        Information
                                    </button>
                                    <button (click)="scrollToElement(WizardTabEnum.ServiceOfferings)" type="button"
                                            class="list-group-item list-group-item-action"
                                            [class.active-widget]="activeWizard === WizardTabEnum.ServiceOfferings"
                                            [ngStyle]="activeWizard===WizardTabEnum.ServiceOfferings ? getButtonColor(): {}">
                                        <span class="mr-2 number d-inline-block f-bold text-center"><i class="fas fa-cogs"></i></span>Service
                                        Offerings
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-9 rightmenu pb-5">
                            <!-- Contact Info -->
                            <div>
                                <form [formGroup]="wizardForm">

                                    <div #ContactInformation class="section pt-130">
                                        <div formGroupName="UserInfo"
                                             (visibilityChange)="scrollToElemen(WizardTabEnum.ContactInfo)"
                                             [threshold]="threshold" class="shadow border bg-white p-3 rounded-lg"
                                             id="contact-information">
                                            <div class="row mb-3">
                                                <div class="col-sm-12">
                                                    <h1 class="mb-1">Contact Information</h1>
                                                    <h4>Please enter your details to build your account </h4>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-4 form-group">
                                                    <div id="usertitle">
                                                        <label for="UserInfo_Title">
                                                            Title<span class="text-danger" aria-required="true">*</span>
                                                        </label>
                                                        <input class="form-control form-control-lg" id="UserInfo_Title"
                                                               formControlName="Title" type="text">
                                                        <div *ngIf="formSubmited && f.UserInfo.get('Title').errors">
                                                            <span class="text-danger"
                                                                  *ngIf="f.UserInfo.get('Title').errors?.required">
                                                                Title is required
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4 form-group">
                                                    <label for="UserInfo_FirstName">
                                                        First Name<span class="text-danger">*</span>
                                                    </label>
                                                    <input name="UserInfo_FirstName" formControlName="FirstName"
                                                           class="form-control form-control-lg" />
                                                    <div *ngIf="formSubmited && f.UserInfo.get('FirstName').errors">
                                                        <span class="text-danger"
                                                              *ngIf="f.UserInfo.get('FirstName').errors?.required">
                                                            First Name is required
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4 form-group">
                                                    <label for="UserInfo_LastName">
                                                        Last Name<span class="text-danger">*</span>
                                                    </label>
                                                    <input name="UserInfo_LastName" formControlName="LastName"
                                                           class="form-control form-control-lg" />
                                                    <div *ngIf="formSubmited && f.UserInfo.get('LastName').errors">
                                                        <span class="text-danger"
                                                              *ngIf="f.UserInfo.get('LastName').errors?.required">
                                                            Last Name is required
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-4 form-group">
                                                    <label for="UserInfo_Email">
                                                        Email<span class="text-danger">*</span>
                                                    </label>
                                                    <input name="UserInfo_Email" formControlName="Email"
                                                           class="form-control form-control-lg" />
                                                    <div *ngIf="formSubmited && f.UserInfo.get('Email').errors">
                                                        <span class="text-danger"
                                                              *ngIf="f.UserInfo.get('Email').errors?.required">
                                                            Email is required
                                                        </span>
                                                        <span class="text-danger"
                                                              *ngIf="f.UserInfo.get('Email').errors?.pattern">
                                                            Invalid email
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div #CompanyInformation class="section pt-130">
                                        <div formGroupName="CompanyInfo"
                                             (visibilityChange)="scrollToElemen(WizardTabEnum.CompanyInfo)"
                                             [threshold]="threshold" class="shadow border bg-white p-3 rounded-lg"
                                             id="company-information">
                                            <div class="row mb-3">
                                                <div class="col-sm-12">
                                                    <h1 class="mb-1">Company Information</h1>
                                                    <h4>Tell us more about your company</h4>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-4 form-group">
                                                    <div id="CompanyName">
                                                        <label for="CompanyInfo_CompanyName">
                                                            Company Name<span class="required pl4"
                                                                              aria-required="true">*</span>
                                                        </label>
                                                        <!-- <input class="form-control" id="CompanyInfo_CompanyName"
                                                    formControlName="CompanyName" placeholder="Company Name"
                                                    (change)="isCompanyNameExist($event.target.value)"> -->

                                                        <ng-autocomplete [data]="Companies" [searchKeyword]="'Name'"
                                                                         formControlName="CompanyName" [itemTemplate]="itemTemplate"
                                                                         [notFoundTemplate]="notFoundTemplate"
                                                                         (change)="isCompanyNameExist($event.target.value)"
                                                                         (selected)="companySeleted($event)">
                                                        </ng-autocomplete>
                                                        <ng-template #itemTemplate let-item>
                                                            <a [innerHTML]="item.Name"></a>
                                                        </ng-template>
                                                        <ng-template #notFoundTemplate let-notFound>
                                                            <div [innerHTML]="notFound"></div>
                                                        </ng-template>

                                                        <div *ngIf="!companyLoader && formSubmited && f.CompanyInfo.get('CompanyName').errors;">
                                                            <span class="text-danger"
                                                                  *ngIf="f.CompanyInfo.get('CompanyName').errors?.required">
                                                                Company Name is required
                                                            </span>
                                                        </div>
                                                        <div *ngIf="!companyLoader && !f.CompanyInfo.get('CompanyName').errors && !f.CompanyInfo.get('IsNewCompany').value && f.CompanyInfo.get('CompanyName').touched">
                                                            <span class="text-danger">
                                                                This company already exists. Please click the Finish & save button to request an account.
                                                            </span>
                                                        </div>
                                                        <div *ngIf="companyLoader">
                                                            <span class="text-danger">
                                                                Validating company..
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4 form-group">
                                                    <div id="CompanyTypeId">
                                                        <label for="CompanyInfo_CompanyTypeId">
                                                            Company Type<span class="text-danger"
                                                                              aria-required="true">*</span>
                                                        </label>
                                                        <select formControlName="CompanyTypeId"
                                                                class="form-control form-control-lg" placeholder="Select Type"
                                                                [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                            <!-- (change)="setStateName(product, $event)" -->
                                                            <option [value]="null" disabled>Select Type</option>
                                                            <option *ngFor="let ct of invitedCompanyTypes" [value]="ct.Id">
                                                                {{ct.Name}}
                                                            </option>
                                                        </select>
                                                        <div *ngIf="formSubmited && f.CompanyInfo.get('CompanyTypeId').errors">
                                                            <span class="text-danger"
                                                                  *ngIf="f.CompanyInfo.get('CompanyTypeId').errors?.required">
                                                                Company Type is required
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <div class="pa bg-white z-index5 loading-wrapper"
                                                         *ngIf="_loadingAddress">
                                                        <span class='spinner-dashboard pa'></span>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-sm-4 form-group">
                                                            <label for="UserDetails_CompanyTypeId">
                                                                Company Address
                                                                <span class="required pl4" aria-required="true">*</span>
                                                            </label>
                                                            <div>
                                                                <input name="CompanyAddress"
                                                                       formControlName="CompanyAddress"
                                                                       class="form-control form-control-lg"
                                                                       [disableControl]="!f.CompanyInfo.get('IsNewCompany').value" />
                                                            </div>
                                                            <div *ngIf="formSubmited && f.CompanyInfo.get('CompanyAddress').errors">
                                                                <span class="text-danger"
                                                                      *ngIf="f.CompanyInfo.get('CompanyAddress').errors?.required">
                                                                    Address is required
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-4 form-group">
                                                            <label for="UserInfo_FirstName">
                                                                Zip Code<span class="color-maroon">*</span>
                                                            </label>
                                                            <div>
                                                                <input name="Zip" formControlName="Zip"
                                                                       class="form-control form-control-lg"
                                                                       (change)="getAddressByZip($event.target.value)"
                                                                       [disableControl]="!f.CompanyInfo.get('IsNewCompany').value" />
                                                            </div>
                                                            <div *ngIf="formSubmited && f.CompanyInfo.get('Zip').errors">
                                                                <span class="text-danger"
                                                                      *ngIf="f.CompanyInfo.get('Zip').errors?.required">
                                                                    Zip is required
                                                                </span>
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-4 form-group">
                                                            <label for="CompanyInfo_CompanyName">
                                                                City<span class="required pl4" aria-required="true">*</span>
                                                            </label>
                                                            <div>
                                                                <input name="City" formControlName="City"
                                                                       class="form-control form-control-lg"
                                                                       [disableControl]="!f.CompanyInfo.get('IsNewCompany').value" />
                                                            </div>
                                                            <div *ngIf="formSubmited && f.CompanyInfo.get('City').errors">
                                                                <span class="text-danger"
                                                                      *ngIf="f.CompanyInfo.get('City').errors?.required">
                                                                    City is required
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-sm-4 form-group">
                                                            <label for="CompanyInfo_CompanyName">
                                                                County<span class="text-danger"
                                                                            aria-required="true">*</span>
                                                            </label>
                                                            <div>
                                                                <input name="County" formControlName="County"
                                                                       class="form-control form-control-lg"
                                                                       [disableControl]="!f.CompanyInfo.get('IsNewCompany').value" />
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-4 form-group">
                                                            <label for="CompanyInfo_CompanyName">
                                                                State<span class="required pl4"
                                                                           aria-required="true">*</span>
                                                            </label>
                                                            <div>
                                                                <select formControlName="StateId"
                                                                        class="form-control form-control-lg"
                                                                        [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                                    <option [value]="null" disabled>Select State</option>
                                                                    <option *ngFor="let st of StatesListByCountry"
                                                                            [value]="st.Id">
                                                                        {{st.Name}}&nbsp;({{st.Code}})
                                                                    </option>
                                                                </select>
                                                            </div>
                                                            <div *ngIf="formSubmited && f.CompanyInfo.get('StateId').errors">
                                                                <span class="text-danger"
                                                                      *ngIf="f.CompanyInfo.get('StateId').errors?.required">
                                                                    State is required
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-4 form-group">
                                                            <label for="CompanyInfo_CompanyName">
                                                                Country<span class="text-danger"
                                                                             aria-required="true">*</span>
                                                            </label>
                                                            <div>
                                                                <select formControlName="CountryId" class="form-control"
                                                                        (change)="countryChanged()"
                                                                        [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                                    <option [value]="null" disabled>Select Country</option>
                                                                    <option *ngFor="let ct of CountryList" [value]="ct.Id">
                                                                        {{ct.Code}}
                                                                    </option>
                                                                </select>
                                                            </div>
                                                            <div *ngIf="formSubmited && f.CompanyInfo.get('CountryId').errors">
                                                                <span class="text-danger"
                                                                      *ngIf="f.CompanyInfo.get('CountryId').errors?.required">
                                                                    Country is required
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-sm-4 form-group">
                                                            <label for="CompanyInfo_PhoneType">
                                                                Phone Type<span class="text-danger">*</span>
                                                            </label>
                                                            <div>
                                                                <select formControlName="PhoneType"
                                                                        class="form-control form-control-lg"
                                                                        placeholder="Select Type"
                                                                        [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                                    <option [value]="null" disabled>Select Type</option>
                                                                    <option *ngFor="let pt of PhoneTypes" [value]="pt.Id">
                                                                        {{pt.Name}}
                                                                    </option>
                                                                </select>
                                                            </div>
                                                            <div *ngIf="formSubmited && f.CompanyInfo.get('PhoneType').errors">
                                                                <span class="text-danger"
                                                                      *ngIf="f.CompanyInfo.get('PhoneType').errors?.required">
                                                                    Phone Type is required
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-4 form-group">
                                                            <label for="CompanyInfo_PhoneNumber">
                                                                Phone Number<span class="text-danger">*</span>
                                                            </label>
                                                            <div>
                                                                <input name="PhoneNumber" formControlName="PhoneNumber"
                                                                       class="form-control input-phoneformat phoneNumber form-control-lg"
                                                                       (change)="IsPhoneNumberValid($event.target.value)"
                                                                       [disableControl]="!f.CompanyInfo.get('IsNewCompany').value" />
                                                            </div>
                                                            <div *ngIf="formSubmited && f.CompanyInfo.get('PhoneNumber').errors">
                                                                <span class="text-danger"
                                                                      *ngIf="f.CompanyInfo.get('PhoneNumber').errors?.required">
                                                                    Phone Number is required
                                                                </span>
                                                                <span class="text-danger"
                                                                      *ngIf="f.CompanyInfo.get('PhoneNumber').errors?.pattern">
                                                                    Invalid Phone Number
                                                                </span>
                                                            </div>
                                                            <div *ngIf="!f.CompanyInfo.get('PhoneNumber').errors && f.CompanyInfo.get('PhoneNumber').value && isPhoneNumberValid==false">
                                                                <span class="color-orange fs12">
                                                                    Unable to verify number! You will miss Text
                                                                    Alerts.
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div #FleetInformation class="section pt-130">
                                        <div (visibilityChange)="scrollToElemen(WizardTabEnum.FleetInfo)"
                                             [threshold]="threshold" class="shadow border bg-white p-3 rounded-lg"
                                             id="fleet-information">
                                            <div formGroupName="FleetInfo">
                                                <div class="row mb-3">
                                                    <div class="col-sm-12">
                                                        <h1 class="mb-1">Fleet Information</h1>
                                                        <h4>Tell us more about your trailers</h4>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <label class="h5">Fuel Assets</label>
                                                        <button type="button" class="btn btn-link fs14 ml-3 mb-2"
                                                                id="fuel_asset" value="+ Add New"
                                                                (click)="openFuelAssetForm(true)">
                                                            <!-- (click)="bolDetail.initDrops(invoiceForm.get('Drops').value,InvoiceModel?.Drops);bolDetail.toggleOpen(true, null);bolDetail.getAddedProductDetails(invoiceForm.get('Drops').value)" -->
                                                            <i class="fa fa-plus-circle"></i> Add New
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12">
                                                        <div class="ibox mb0">
                                                            <div class="ibox-content no-border px-0">
                                                                <div id="div-fuel-assets-grid" class="table-responsive">
                                                                    <table id="fuel-assets-grid-datatable"
                                                                           class="table table-hover">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Trailer Type</th>
                                                                                <th>Capacity per asset(G)</th>
                                                                                <th>Does Trailer have Pump?</th>
                                                                                <th>Is Trailer Metered?</th>
                                                                                <th>Count</th>
                                                                                <th></th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr *ngFor="let trail of f.FleetInfo.get('FuelAssets')['value'];let i=index">
                                                                                <td>
                                                                                    {{getFuelTrailerAssetTypeName(trail.FuelTrailerServiceTypeFTL)}}
                                                                                </td>
                                                                                <td>{{trail.Capacity}}</td>
                                                                                <td>
                                                                                    <span *ngIf="trail.TrailerHasPump">Yes</span>
                                                                                    <span *ngIf="!trail.TrailerHasPump">No</span>
                                                                                </td>
                                                                                <td>
                                                                                    <span *ngIf="trail.IsTrailerMetered">Yes</span>
                                                                                    <span *ngIf="!trail.IsTrailerMetered">No</span>
                                                                                </td>
                                                                                <td>{{trail.Count}}</td>
                                                                                <td>
                                                                                    <a (click)="removeAsset(i, true)">
                                                                                        <i class="fa fa-trash text-danger fs16"
                                                                                           data-placement="top"
                                                                                           data-toggle="tooltip"
                                                                                           title="Remove">
                                                                                        </i>
                                                                                    </a>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <label class="h5">DEF Assets</label>
                                                        <button type="button" class="btn btn-link fs14 ml-3 mb-2"
                                                                id="def_asset" value="+ Add New"
                                                                (click)="openFuelAssetForm(false)">
                                                            <!-- (click)="bolDetail.initDrops(invoiceForm.get('Drops').value,InvoiceModel?.Drops);bolDetail.toggleOpen(true, null);bolDetail.getAddedProductDetails(invoiceForm.get('Drops').value)" -->
                                                            <i class="fa fa-plus-circle"></i> Add New
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12">
                                                        <div class="ibox mb0">
                                                            <div class="ibox-content no-border px-0">
                                                                <div id="div-def-assets-grid" class="table-responsive">
                                                                    <table id="def-assets-grid-datatable"
                                                                           class="table table-hover">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Trailer Type</th>
                                                                                <th>Capacity per asset(G)</th>
                                                                                <th>Packaged Goods</th>
                                                                                <th>Does Trailer have Pump?</th>
                                                                                <th>Is Trailer Metered?</th>
                                                                                <th>Count</th>
                                                                                <th></th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr *ngFor="let trail of f.FleetInfo.get('DefAssets')['value']; let i=index">
                                                                                <td>
                                                                                    {{getDefTrailerAssetTypeName(trail.DEFTrailerServiceType)}}
                                                                                </td>
                                                                                <td>{{trail.Capacity}}</td>
                                                                                <td>
                                                                                    <span *ngIf="trail.PackagedGoods">Yes</span>
                                                                                    <span *ngIf="!trail.PackagedGoods">No</span>
                                                                                </td>
                                                                                <td>
                                                                                    <span *ngIf="trail.TrailerHasPump">Yes</span>
                                                                                    <span *ngIf="!trail.TrailerHasPump">No</span>
                                                                                </td>
                                                                                <td>
                                                                                    <span *ngIf="trail.IsTrailerMetered">Yes</span>
                                                                                    <span *ngIf="!trail.IsTrailerMetered">No</span>
                                                                                </td>
                                                                                <td>{{trail.Count}}</td>
                                                                                <td>
                                                                                    <a (click)="removeAsset(i, false)">
                                                                                        <i class="fa fa-trash text-danger fs16"
                                                                                           data-placement="top"
                                                                                           data-toggle="tooltip"
                                                                                           title="Remove">
                                                                                        </i>
                                                                                    </a>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div #ServiceOffering class="section pt-130 pr">

                                        <div (visibilityChange)="scrollToElemen(WizardTabEnum.ServiceOfferings)"
                                             [threshold]="threshold">
                                            <div class="pa bg-white top0 left0 z-index5 loading-wrapper mtm10 loader-fueltype"
                                                 *ngIf="offeringloader">
                                                <span class="spinner-dashboard pa"></span>
                                            </div>

                                            <div class="shadow border bg-white p-3 rounded-lg" id="service-information">
                                                <div class="row mb-3">
                                                    <div class="col-sm-12">
                                                        <h1 class="mb-1">Service Offerings</h1>
                                                        <h4>Please list market footprint per service offering</h4>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-sm-12">
                                                        <div [formArrayName]="'ServiceOffering'">
                                                            <ng-container *ngFor="let service of wizardForm.get('ServiceOffering')['controls']; let i = index;">
                                                                <div [formGroupName]="i">

                                                                    <div class="border rounded p-4"
                                                                         *ngIf="activeServiceOffering==(+i+1)">

                                                                        <div class=row>
                                                                            <div class="col-12 font-bold">
                                                                                Do you Offer
                                                                                {{ServiceOfferingTypesDisplay[service.get('ServiceDeliveryType').value]}}
                                                                                Deliveries ?
                                                                            </div>
                                                                        </div>
                                                                        <div class="row mt-2">
                                                                            <div class="col-12">
                                                                                <div [class]="!f.CompanyInfo.get('IsNewCompany').value? 'pntr-none subSectionOpacity' : ''">
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input class="form-check-input"
                                                                                               formControlName="IsEnable"
                                                                                               id="radio-enable-yes-{{i}}"
                                                                                               type="radio" [value]="true"
                                                                                               (change)="updateServiceValidation(service, true, service.get('AreaWide').value)"
                                                                                               [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                                                        <label class="form-check-label"
                                                                                               for="radio-enable-yes-{{i}}">Yes</label>
                                                                                    </div>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input class="form-check-input"
                                                                                               formControlName="IsEnable"
                                                                                               id="radio-enable-false-{{i}}"
                                                                                               type="radio" [value]="false"
                                                                                               (change)="goToNextQuestion();updateServiceValidation(service, false, service.get('AreaWide').value)"
                                                                                               [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                                                        <label class="form-check-label"
                                                                                               for="radio-enable-false-{{i}}">No</label>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div class="row mt-3"
                                                                             [class]="service.get('IsEnable').value ? 'mb-3' : 'mb-3 pntr-none subSectionOpacity'">
                                                                            <div class="col-sm-3 mb-2">
                                                                                <select formControlName="AreaWide"
                                                                                        class="form-control"
                                                                                        (change)="stateChangedSingle(service, i, true);updateServiceValidation(service, true, $event.target.value)"
                                                                                        [disableControl]="!service.get('IsEnable').value || !f.CompanyInfo.get('IsNewCompany').value">
                                                                                    <option value="1">State wide</option>
                                                                                    <option value="2">Zip wide</option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="col-sm-3">
                                                                                <select formControlName="SelectedCountry"
                                                                                        class="form-control"
                                                                                        (change)="serviceCountryChanged(service)"
                                                                                        [disableControl]="!service.get('IsEnable').value || !f.CompanyInfo.get('IsNewCompany').value">
                                                                                    <option value="null" disabled>
                                                                                        Select Country
                                                                                    </option>
                                                                                    <option *ngFor="let country of CountryList"
                                                                                            value="{{country.Id}}">
                                                                                        {{country.Code}}
                                                                                    </option>
                                                                                </select>
                                                                                <div *ngIf="formSubmited && service.get('SelectedCountry').errors">
                                                                                    <span class="text-danger"
                                                                                          *ngIf="service.get('SelectedCountry').errors?.required">
                                                                                        Country is required
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                            <div [class]="!f.CompanyInfo.get('IsNewCompany').value? 'col-sm-3 pntr-none subSectionOpacity' : 'col-sm-3'"
                                                                                 id="stateDiv">
                                                                                <ng-multiselect-dropdown #multiSelect1
                                                                                                         [placeholder]="'Select States'"
                                                                                                         [settings]="DdlSettings"
                                                                                                         [data]="StatesListByCountryForService(service.get('SelectedCountry').value)"
                                                                                                         formControlName="SelectedStates"
                                                                                                         (onSelect)="stateChangedSingle(service, i, true)"
                                                                                                         (onSelectAll)="stateChangedAll(service, i, true, $event)"
                                                                                                         (onDeSelect)="stateChangedSingle(service, i, false)"
                                                                                                         (onDeSelectAll)="stateChangedAll(service, i, false, $event)">
                                                                                </ng-multiselect-dropdown>
                                                                                <div *ngIf="formSubmited && service.get('SelectedStates').errors">
                                                                                    <span class="text-danger"
                                                                                          *ngIf="service.get('SelectedStates').errors?.required">
                                                                                        State is required
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                            <div *ngIf="(service.get('AreaWide').value == 2)"
                                                                                 [class]="!f.CompanyInfo.get('IsNewCompany').value? 'col-sm-3 pntr-none subSectionOpacity' : 'col-sm-3'">
                                                                                <ng-multiselect-dropdown #multiSelect2
                                                                                                         [placeholder]="'Select City'"
                                                                                                         [settings]="ddlCitySettings"
                                                                                                         [data]="dataForEachServiceType[ServiceOfferingTypes[+i + 1] + '_CitiesByState']"
                                                                                                         formControlName="SelectedCities"
                                                                                                         (onSelect)="cityChangedSingle(service, i, true)"
                                                                                                         (onSelectAll)="cityChangedAll(service, i, true, $event)"
                                                                                                         (onDeSelect)="cityChangedSingle(service, i, false)"
                                                                                                         (onDeSelectAll)="cityChangedAll(service, i, false, $event)">
                                                                                </ng-multiselect-dropdown>
                                                                                <div 
                                                                                     *ngIf="formSubmited && service.get('SelectedCities').errors">
                                                                                    <span class="text-danger"
                                                                                          *ngIf="service.get('SelectedCities').errors?.required">
                                                                                        City is required
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                            <div *ngIf="(service.get('AreaWide').value == 2)"
                                                                                 [class]="!f.CompanyInfo.get('IsNewCompany').value? 'col-sm-3 pntr-none subSectionOpacity' : 'col-sm-3'">
                                                                                <ng-multiselect-dropdown #multiSelect3
                                                                                                         [placeholder]="'Select Zip Codes'"
                                                                                                         [settings]="ZipDdlSettings"
                                                                                                         [data]="dataForEachServiceType[ServiceOfferingTypes[+i + 1] + '_ZipCodesByCities']"
                                                                                                         formControlName="SelectedZipCodes">
                                                                                </ng-multiselect-dropdown>
                                                                                <div 
                                                                                     *ngIf="formSubmited && service.get('SelectedZipCodes').errors">
                                                                                    <span class="text-danger"
                                                                                          *ngIf="service.get('SelectedZipCodes').errors?.required">
                                                                                        Zip Code is required
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div class="row mt-3">
                                                                            <div class="col-sm-6 text-left">
                                                                                <nav aria-label="...">
                                                                                    <ul 
                                                                                        class="pagination pagination-sm mb-0">

                                                                                        <li class="page-item"
                                                                                            [class.active]="activeServiceOffering === ServiceOfferingTypes.FTL">
                                                                                            <a class="page-link"
                                                                                                [ngStyle]="activeServiceOffering === ServiceOfferingTypes.FTL ? getButtonColor(): {}"
                                                                                               (click)="setServiceQuestion(ServiceOfferingTypes.FTL)">1</a>
                                                                                        </li>
                                                                                        <li class="page-item"
                                                                                            [class.active]="activeServiceOffering === ServiceOfferingTypes.LTL">
                                                                                            <a class="page-link"
                                                                                                [ngStyle]="activeServiceOffering === ServiceOfferingTypes.LTL ? getButtonColor(): {}"
                                                                                               (click)="setServiceQuestion(ServiceOfferingTypes.LTL)">2</a>
                                                                                        </li>
                                                                                        <li class="page-item"
                                                                                            [class.active]="activeServiceOffering === ServiceOfferingTypes.LTLWetHosing">
                                                                                            <a class="page-link"
                                                                                                [ngStyle]="activeServiceOffering === ServiceOfferingTypes.LTLWetHosing ? getButtonColor(): {}"
                                                                                               (click)="setServiceQuestion(ServiceOfferingTypes.LTLWetHosing)">3</a>
                                                                                        </li>
                                                                                        <li class="page-item"
                                                                                            [class.active]="activeServiceOffering === ServiceOfferingTypes.DEF">
                                                                                            <a class="page-link"
                                                                                                [ngStyle]="activeServiceOffering === ServiceOfferingTypes.DEF ? getButtonColor(): {}"
                                                                                               (click)="setServiceQuestion(ServiceOfferingTypes.DEF)">4</a>
                                                                                        </li>
                                                                                        <li class="page-item"
                                                                                            [class.active]="activeServiceOffering === ServiceOfferingTypes.DEFWetHosing">
                                                                                            <a class="page-link"
                                                                                            [ngStyle]="activeServiceOffering === ServiceOfferingTypes.DEFWetHosing ? getButtonColor(): {}"
                                                                                               (click)="setServiceQuestion(ServiceOfferingTypes.DEFWetHosing)">5</a>
                                                                                        </li>
                                                                                    </ul>
                                                                                </nav>
                                                                            </div>

                                                                            <div class="col-sm-6 text-right">
                                                                                <input type="button"
                                                                                       class="btn btn-primary btn-sm"
                                                                                       value="Prev" [ngStyle]="getButtonColor()"
                                                                                       (click)="setServiceQuestion(+activeServiceOffering-1)"
                                                                                       [disabled]="activeServiceOffering==1" 
                                                                                       [ngStyle]="activeServiceOffering!=1 ? getButtonColor(): {}"
                                                                                       #prev (mouseenter)="removeBtnPrimaryClass(prev)"/>
                                                                                <input type="button"
                                                                                       class="btn btn-primary btn-sm"
                                                                                       value="Next" [ngStyle]="getButtonColor()"
                                                                                       (click)="setServiceQuestion(+activeServiceOffering+1)"
                                                                                       [disabled]="activeServiceOffering==5" 
                                                                                       [ngStyle]="activeServiceOffering!=5 ? getButtonColor(): {}"
                                                                                       #next (mouseenter)="removeBtnPrimaryClass(next)"/>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>


                                    <div class="floating-buttons white-bg pt10" [ngStyle]="getHeaderColor()">
                                        <div class="row mr20">
                                            <div class="col-sm-12 text-right">

                                                <button type="button" class="btn btn-primary btn-lg" [ngStyle]="activeWizard!=4? getButtonColor(): {}" 
                                                        [disabled]="activeWizard==4"
                                                        (click)="scrollToElement(+activeWizard+1)"
                                                        #next1 (mouseenter)="removeBtnPrimaryClass(next1)">Next</button>

                                                <button type="button" class="btn btn-primary btn-lg mr-3" [ngStyle]="!f.UserInfo.invalid && !f.CompanyInfo.invalid? getButtonColor(): {}"
                                                        [disabled]="f.UserInfo.invalid || f.CompanyInfo.invalid"
                                                        data-toggle="modal" data-target="#confirmationModal" (click)="onFinishAndSave()"
                                                        #finishAndSave (mouseenter)="removeBtnPrimaryClass(finishAndSave)">Finish &
                                                    save</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <ng-sidebar-container>
            <ng-sidebar [(opened)]="_opened" [animate]="true" [position]="'right'" [showBackdrop]="true"
                        style="height: 100vh">
                <div class="header-panel">
                    <div class="heading">
                        <a (click)="_opened=false"><i class="fa fa-close fs21 mr-3 float-left"></i></a>
                        <h3 class="d-inline-block">Create Trailer</h3>
                    </div>
                    <form [formGroup]="fuelAssetForm">
                        <div class="row">
                            <div class="col-6">
                                <div class="form-group">
                                    <label for="ts_type">Trailer Type</label>
                                    <ng-container *ngIf="fuelAssetForm.get('IsFuelAssets').value && AllTrailerAssetTypes">
                                        <select class="form-control" formControlName="FuelTrailerServiceTypeFTL"
                                                [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                            <option [value]="null" disabled>Select</option>
                                            <option *ngFor="let asset of AllTrailerAssetTypes?.FuelTrailerAssetType"
                                                    [value]="asset.Id">
                                                {{asset.Name}}
                                            </option>
                                        </select>
                                        <div 
                                             *ngIf="fuelAssetForm.get('FuelTrailerServiceTypeFTL').dirty || fuelAssetForm.get('FuelTrailerServiceTypeFTL').touched && fuelAssetForm.get('FuelTrailerServiceTypeFTL').errors">
                                            <label style="color:red"
                                                   *ngIf="fuelAssetForm.get('FuelTrailerServiceTypeFTL').errors?.required">
                                                Required
                                            </label>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngIf="!fuelAssetForm.get('IsFuelAssets').value && AllTrailerAssetTypes">
                                        <select class="form-control" formControlName="DEFTrailerServiceType"
                                                [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                            <option [value]="null" disabled>Select</option>
                                            <option *ngFor="let asset of AllTrailerAssetTypes?.DefTrailerAssetType"
                                                    [value]="asset.Id">
                                                {{asset.Name}}
                                            </option>
                                        </select>
                                        <div 
                                             *ngIf="(fuelAssetForm.get('DEFTrailerServiceType').dirty || fuelAssetForm.get('DEFTrailerServiceType').touched) && fuelAssetForm.get('DEFTrailerServiceType').errors">
                                            <label style="color:red"
                                                   *ngIf="fuelAssetForm.get('DEFTrailerServiceType').errors?.required">
                                                Required
                                            </label>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <label for="ts_type">Capacity per asset(G)</label>
                                    <input type="number" formControlName="Capacity" class="form-control"
                                           placeholder="Capacity"
                                           [disableControl]="!f.CompanyInfo.get('IsNewCompany').value" />
                                    <div 
                                         *ngIf="(fuelAssetForm.get('Capacity').dirty || fuelAssetForm.get('Capacity').touched) && fuelAssetForm.get('Capacity').errors">
                                        <label style="color:red" *ngIf="fuelAssetForm.get('Capacity').errors?.required">
                                            Required
                                        </label>
                                        <label style="color:red" *ngIf="fuelAssetForm.get('Capacity').errors.min">
                                            Invalid capacity
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <label for="ts_type">Count</label>
                                    <input type="number" formControlName="Count" class="form-control" placeholder="Count"
                                           [disableControl]="!f.CompanyInfo.get('IsNewCompany').value" />
                                    <div
                                         *ngIf="(fuelAssetForm.get('Count').dirty || fuelAssetForm.get('Count').touched) && fuelAssetForm.get('Count').errors">
                                        <label style="color:red" *ngIf="fuelAssetForm.get('Count').errors?.required">
                                            Required
                                        </label>
                                        <label style="color:red" *ngIf="fuelAssetForm.get('Count').errors.min">
                                            Invalid Count
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-group">
                                            <label for="ts_type" class="d-block">Is your trailer metered?</label>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="metered"
                                                       formControlName="TrailerHasPump" [name]="'TrailerHasPump'"
                                                       [value]="true"
                                                       [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                <label class="form-check-label" for="metered">Yes</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="non_metered"
                                                       formControlName="TrailerHasPump" [name]="'TrailerHasPump'"
                                                       [value]="false"
                                                       [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                <label class="form-check-label" for="non_metered">No</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-group">
                                            <label for="ts_type" class="d-block">Does your trailer have pump?</label>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="metered1"
                                                       formControlName="IsTrailerMetered" [name]="'IsTrailerMetered'"
                                                       [value]="true"
                                                       [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                <label class="form-check-label" for="metered1">Yes</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="non_metered1"
                                                       formControlName="IsTrailerMetered" [name]="'IsTrailerMetered'"
                                                       [value]="false"
                                                       [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                <label class="form-check-label" for="non_metered1">No</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-6" *ngIf="!fuelAssetForm.get('IsFuelAssets').value">
                                        <div class="form-group">
                                            <label for="ts_type" class="d-block">Is packaged goods?</label>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="metered2"
                                                       formControlName="PackagedGoods" [name]="'PackagedGoods'" [value]="true"
                                                       [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                <label class="form-check-label" for="metered2">Yes</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" id="non_metered2"
                                                       formControlName="PackagedGoods" [name]="'PackagedGoods'" [value]="false"
                                                       [disableControl]="!f.CompanyInfo.get('IsNewCompany').value">
                                                <label class="form-check-label" for="non_metered2">No</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 text-right">
                                <input type="button" value="Cancel" class="btn" (click)="_opened=false">
                                <input id="Submit" type="button" value="Submit" [disabled]="fuelAssetForm.invalid"
                                       (click)="onSubmitFleetInfo()" class="btn btn-primary btnSubmit"
                                       #submit1 (mouseenter)="removeBtnPrimaryClass(submit1)"
                                       [ngStyle]="!fuelAssetForm.invalid? getButtonColor(): {}">
                            </div>
                        </div>
                    </form>
                </div>
            </ng-sidebar>
        </ng-sidebar-container>
    </div>
<app-invitation-submit *ngIf="isSubmitted"></app-invitation-submit>

<div class="modal fade" id="confirmationModal" tabindex="-1" role="dialog" aria-labelledby="confirmationModal"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <h2 class="mt-2 f-bold">Thank you for your information</h2>
                <p>
                    You will be sent an email prompting you to register your account.<br>
                    This will allow you to log into your account.
                </p>
                <button type="button" class="btn btn-default" data-dismiss="modal"
                #close (mouseenter)="removeBtnPrimaryClass(close)"
                [ngStyle]="getButtonColor()">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="onSubmit()"
                #submit (mouseenter)="removeBtnPrimaryClass(submit)"
                [ngStyle]="getButtonColor()">Submit</button>
            </div>
        </div>
    </div>
</div>